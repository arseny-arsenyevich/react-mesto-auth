(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{28:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(21),r=n.n(s),o=n(8),i=(n(28),n(23)),l=n(2),u=n(3),d=n.p+"static/media/logo.abb64ac9.svg",j=n.p+"static/media/auth-success.1b6082f8.svg",m=n.p+"static/media/auth-fail.7c6a020b.svg",_=n(0);var h=function(e){var t=e.logoPic,n=e.headerLink,c=e.headerLinkTitle,s=e.headerBurger,r=e.setLoggedIn,i=e.email,u=Object(a.useState)(!1),d=Object(l.a)(u,2),j=d[0],m=d[1],h=function(){r&&r(!1),r&&localStorage.removeItem("token")};return Object(_.jsxs)("header",{className:"header header_position_center","aria-label":"\u043b\u043e\u0433\u043e\u0442\u0438\u043f",children:[s&&Object(_.jsxs)("div",{className:"header__burger \n                header__burger_res_mobile \n                ".concat(j&&"header__burger_opened"),children:[s&&Object(_.jsx)("p",{className:"header__email",children:i}),Object(_.jsx)(o.b,{to:n,className:"header__link header__link_theme_dark",onClick:h,children:c})]}),Object(_.jsxs)("div",{className:"header__container",children:[Object(_.jsx)(o.b,{to:"/cards",className:"header__link",children:Object(_.jsx)("img",{className:"header__logo",src:t,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f"})}),Object(_.jsxs)("div",{className:"header__burger ".concat(s&&"header__burger_res_desktop"),children:[s&&Object(_.jsx)("p",{className:"header__email",children:i}),Object(_.jsx)(o.b,{to:n,className:"header__link ".concat(s&&"header__link_theme_dark"),onClick:h,children:c})]}),s&&Object(_.jsx)("button",{onClick:function(e){e.preventDefault(),m(!j)},type:"button",className:"header__burger-icon ".concat(j&&"header__burger-icon_opened"),children:Object(_.jsx)("span",{})})]})]})},b=c.a.createContext();var p=function(e){var t=e.card,n=e.onDelete,c=e.onCardClick,s=e.onCardLike,r=Object(a.useContext)(b),o=t.owner._id===r._id,i="elements__trash ".concat(o?"":"elements__trash_hidden"),l=t.likes.some((function(e){return e._id===r._id})),u="elements__like-button ".concat(l?"elements__like-button_active":"");return Object(_.jsxs)("li",{className:"elements__card",children:[Object(_.jsx)("button",{onClick:function(){n(t)},className:i,children:Object(_.jsx)("div",{className:"elements__trash-icon"})}),Object(_.jsx)("div",{className:"elements__background",children:Object(_.jsx)("img",{className:"elements__picture",onClick:function(){c([t.link,t.name])},src:t.link,alt:"\u043f\u0435\u0439\u0437\u0430\u0436"})}),Object(_.jsxs)("div",{className:"elements__text-area",children:[Object(_.jsx)("h2",{className:"elements__title",children:t.name}),Object(_.jsxs)("div",{className:"elements__like",children:[Object(_.jsx)("button",{onClick:function(){s(t)},className:u,type:"button"}),Object(_.jsx)("p",{className:"elements__like-counter",children:t.likes.length})]})]})]})};var f=function(e){var t=e.cards,n=e.onEditAvatar,c=e.onEditProfile,s=e.onAddPlace,r=e.onCardLike,o=e.onCardDelete,i=e.onCardClick,l=Object(a.useContext)(b);return Object(_.jsxs)("main",{className:"main",children:[Object(_.jsxs)("section",{className:"profile profile_position_center",children:[Object(_.jsxs)("div",{className:"profile__picture-edit",children:[Object(_.jsx)("img",{className:"profile__picture",src:l.avatar,alt:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(_.jsx)("button",{className:"profile__picture-edit-button",type:"button",onClick:n})]}),Object(_.jsxs)("div",{className:"profile__name-box",children:[Object(_.jsx)("h1",{className:"profile__name",children:l.name}),Object(_.jsx)("button",{className:"profile__edit-button",type:"button",onClick:c}),Object(_.jsx)("p",{className:"profile__profession",children:l.about})]}),Object(_.jsx)("button",{className:"profile__add-button",type:"button",onClick:s})]}),Object(_.jsxs)("section",{className:"elements","aria-label":"\u043c\u0435\u0441\u0442\u0430",children:[Object(_.jsx)("p",{className:"elements__empty",children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438"}),Object(_.jsx)("ul",{className:"elements__table",children:t.map((function(e){return Object(_.jsx)(p,{onCardLike:r,onDelete:o,onCardClick:i,card:e},e._id)}))})]})]})};var O=function(){return Object(_.jsx)("footer",{className:"footer footer_position_center",children:Object(_.jsx)("p",{className:"footer__copy",children:"\xa9 2021 Mesto Russia"})})};var x=function(e){var t=e.name,n=e.isOpen,a=e.onClose,c=e.onSubmit,s=e.title,r=e.children,o=e.buttonTxt,i=e.buttonState;return Object(_.jsx)("div",{className:"popup popup_content_".concat(t," ").concat(n&&"popup_opened"),onClick:function(e){e.target===e.currentTarget&&a()},children:Object(_.jsxs)("div",{className:"popup__container popup__container_position_center",children:[Object(_.jsx)("button",{className:"popup__exit",type:"button",onClick:a}),Object(_.jsx)("h2",{className:"popup__heading",children:s}),Object(_.jsxs)("form",{onSubmit:c,className:"form form_content_".concat(t),name:t,children:[Object(_.jsx)("fieldset",{className:"form__input-container",children:r}),Object(_.jsx)("button",{disabled:i,type:"submit",className:"form__save-button",children:o})]})]})})};var v=function(e){var t=e.onUpdateUser,n=e.isOpen,c=e.onClose,s=Object(a.useContext)(b),r=Object(a.useState)(""),o=Object(l.a)(r,2),i=o[0],u=o[1],d=Object(a.useState)(""),j=Object(l.a)(d,2),m=j[0],h=j[1];return Object(a.useEffect)((function(){u(s.name),h(s.about)}),[s,n]),Object(_.jsxs)(x,{name:"name",isOpen:n,onClose:c,onSubmit:function(e){e.preventDefault(),t({name:i,about:m})},title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",buttonTxt:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:[Object(_.jsxs)("label",{className:"form__field",children:[Object(_.jsx)("input",{value:i,onChange:function(e){u(e.target.value)},type:"text",className:"form__input",name:"name",id:"form-name",placeholder:"\u0418\u043c\u044f",required:!0,minLength:"2",maxLength:"40"}),Object(_.jsx)("span",{className:"form__error form__error_type_form-name"})]}),Object(_.jsxs)("label",{className:"form__field",children:[Object(_.jsx)("input",{value:m,onChange:function(e){h(e.target.value)},type:"text",className:"form__input",name:"about",id:"form-profession",placeholder:"\u041e \u0441\u0435\u0431\u0435",required:!0,minLength:"2",maxLength:"200"}),Object(_.jsx)("span",{className:"popup__error popup__error_type_form-profession"})]})]})};var g=function(e){var t=e.onUpdateAvatar,n=e.isOpen,c=e.onClose,s=Object(a.useState)(""),r=Object(l.a)(s,2),o=r[0],i=r[1];return Object(_.jsx)(x,{name:"avatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",buttonTxt:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:n,onClose:c,onSubmit:function(e){e.preventDefault(),t({avatar:o})},children:Object(_.jsxs)("label",{className:"form__field",children:[Object(_.jsx)("input",{value:o,onChange:function(e){i(e.target.value)},type:"url",className:"form__input",name:"avatar",id:"form-avatar",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),Object(_.jsx)("span",{className:"form__error form__error_type_form-avatar"})]})})};var k=function(e){var t=e.onAddPlace,n=e.isOpen,c=e.onClose,s=Object(a.useState)(""),r=Object(l.a)(s,2),o=r[0],i=r[1],u=Object(a.useState)(""),d=Object(l.a)(u,2),j=d[0],m=d[1];return Object(_.jsxs)(x,{name:"card",onSubmit:function(e){e.preventDefault(),t({name:o,link:j}),i(""),m("")},isOpen:n,onClose:function(){i(""),m(""),c()},title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",buttonTxt:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",children:[Object(_.jsxs)("label",{className:"form__field",children:[Object(_.jsx)("input",{value:o,onChange:function(e){i(e.target.value)},type:"text",className:"form__input",name:"name",id:"form-place",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",required:!0,minLength:"2",maxLength:"30"}),Object(_.jsx)("span",{className:"form__error form__error_type_form-place"})]}),Object(_.jsxs)("label",{className:"form__field",children:[Object(_.jsx)("input",{value:j,onChange:function(e){m(e.target.value)},type:"url",className:"form__input",name:"link",id:"form-link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),Object(_.jsx)("span",{className:"form__error form__error_type_form-link"})]})]})};var N=function(e){var t=e.isOpen,n=e.card,a=e.onClose,c=e.cardName;return Object(_.jsx)("div",{className:"popup popup_content_picture  ".concat(t&&"popup_opened"),onClick:function(e){e.target===e.currentTarget&&a()},children:Object(_.jsxs)("div",{className:"popup__pic-container",children:[Object(_.jsx)("button",{className:"popup__exit popup__exit_content_picture",onClick:a,type:"button"}),Object(_.jsx)("img",{className:"popup__picture",src:n,alt:"\u043f\u0435\u0439\u0437\u0430\u0436"}),Object(_.jsx)("p",{className:"popup__picture-title",children:c})]})})};var C=function(e){var t=e.isOpen,n=e.onClose,c=e.onDelete,s=Object(a.useState)(!1),r=Object(l.a)(s,2),o=r[0],i=r[1];return Object(_.jsx)(x,{name:"delete",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),c(i)},title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",buttonTxt:o?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",buttonState:o})};var y=function(e){var t=e.isOpen,n=e.onClose,a=e.statusPic,c=e.statusText;return Object(_.jsx)("div",{className:"popup ".concat(t&&"popup_opened"),onClick:function(e){e.target===e.currentTarget&&n()},children:Object(_.jsxs)("div",{className:"popup__container popup__container_position_center",children:[Object(_.jsx)("button",{onClick:n,className:"popup__exit",type:"button"}),Object(_.jsx)("img",{className:"popup__message-pic",alt:"auth result message",src:a}),Object(_.jsx)("h2",{className:"popup__message",children:c})]})})},S=n(13),L=n(14),T=new(function(){function e(t){var n=t.baseUrl,a=t.headers;Object(S.a)(this,e),this._url=n,this._headers=a}return Object(L.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("".concat(e.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"getCards",value:function(){return fetch("".concat(this._url,"/cards"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"redactProfile",value:function(e){var t=e.name,n=e.about;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:"".concat(t),about:"".concat(n)})}).then(this._checkResponse)}},{key:"redactAvatar",value:function(e){var t=e.avatar;return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:"".concat(t)})}).then(this._checkResponse)}},{key:"addCard",value:function(e){var t=e.name,n=e.link;return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:"".concat(t),link:"".concat(n)})}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"changeLikeCardStatus",value:function(e,t){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:t?"DELETE":"PUT",headers:this._headers}).then(this._checkResponse)}}]),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-24",headers:{authorization:"43e71961-3715-4de8-9b86-f45dfa570664","Content-Type":"application/json"}});var w=function(e){var t=e.path,n=e.loggedIn,a=e.children;return Object(_.jsx)(u.b,{path:t,children:function(){return n?a:Object(_.jsx)(u.a,{to:"/sign-up"})}})};var P=function(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(l.a)(n,2),s=c[0],r=c[1],o=Object(a.useState)(""),i=Object(l.a)(o,2),u=i[0],d=i[1],j=Object(a.useState)(!1),m=Object(l.a)(j,2),h=m[0],b=m[1];return Object(_.jsxs)("div",{className:"auth",children:[Object(_.jsx)("h2",{className:"auth__heading",children:"\u0412\u0445\u043e\u0434"}),Object(_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({email:s,password:u},b)},className:"form",children:[Object(_.jsxs)("fieldset",{className:"form__input-container form__input-container_theme_dark",children:[Object(_.jsxs)("label",{className:"form__field",children:[Object(_.jsx)("input",{value:s,onChange:function(e){r(e.target.value)},type:"text",className:"form__input form__input_theme_dark",name:"email",id:"form-email",placeholder:"Email",required:!0,minLength:"2",maxLength:"60"}),Object(_.jsx)("span",{className:"form__error form__error_type_form-place"})]}),Object(_.jsxs)("label",{className:"form__field",children:[Object(_.jsx)("input",{value:u,onChange:function(e){d(e.target.value)},type:"password",className:"form__input form__input_theme_dark",name:"password",id:"form-password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0}),Object(_.jsx)("span",{className:"form__error form__error_type_form-link"})]})]}),Object(_.jsx)("button",{disabled:h,type:"submit",className:"form__save-button form__save-button_theme_dark",children:h?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0412\u043e\u0439\u0442\u0438"})]})]})};var E=function(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(l.a)(n,2),s=c[0],r=c[1],i=Object(a.useState)(""),u=Object(l.a)(i,2),d=u[0],j=u[1],m=Object(a.useState)(!1),h=Object(l.a)(m,2),b=h[0],p=h[1];return Object(_.jsxs)("div",{className:"auth",children:[Object(_.jsx)("h2",{className:"auth__heading",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({email:s,password:d},p)},className:"form",children:[Object(_.jsxs)("fieldset",{className:"form__input-container form__input-container_theme_dark",children:[Object(_.jsxs)("label",{className:"form__field",children:[Object(_.jsx)("input",{value:s,onChange:function(e){r(e.target.value)},type:"text",className:"form__input form__input_theme_dark",name:"email",id:"form-email",placeholder:"Email",required:!0,minLength:"2",maxLength:"60"}),Object(_.jsx)("span",{className:"form__error form__error_type_form-place"})]}),Object(_.jsxs)("label",{className:"form__field",children:[Object(_.jsx)("input",{value:d,onChange:function(e){j(e.target.value)},type:"password",className:"form__input form__input_theme_dark",name:"password",id:"form-password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0}),Object(_.jsx)("span",{className:"form__error form__error_type_form-link"})]})]}),Object(_.jsx)("button",{disabled:b,type:"submit",className:"form__save-button form__save-button_theme_dark",children:b?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(_.jsx)(o.b,{to:"/sign-in",className:"auth__if-registred",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0412\u043e\u0439\u0442\u0438"})]})},D=n(19),A=new(function(){function e(t){var n=t.baseUrl,a=t.headers;Object(S.a)(this,e),this._url=n,this._headers=a}return Object(L.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("".concat(e.status))}},{key:"signUp",value:function(e){var t=e.password,n=e.email;return fetch("".concat(this._url,"/signup"),{method:"POST",headers:this._headers,body:JSON.stringify({password:"".concat(t),email:"".concat(n)})}).then(this._checkResponse)}},{key:"signIn",value:function(e){var t=e.password,n=e.email;return fetch("".concat(this._url,"/signin"),{method:"POST",headers:this._headers,body:JSON.stringify({password:"".concat(t),email:"".concat(n)})}).then(this._checkResponse)}},{key:"checkToken",value:function(){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:Object(D.a)(Object(D.a)({},this._headers),{},{Authorization:"Bearer ".concat(localStorage.getItem("token"))})}).then(this._checkResponse)}}]),e}())({baseUrl:"https://auth.nomoreparties.co",headers:{"Content-Type":"application/json"}});var U=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),r=Object(l.a)(s,2),o=r[0],p=r[1],x=Object(a.useState)(!1),S=Object(l.a)(x,2),L=S[0],D=S[1],U=Object(a.useState)(!1),I=Object(l.a)(U,2),R=I[0],q=I[1],J=Object(a.useState)(null),B=Object(l.a)(J,2),F=B[0],G=B[1],z=Object(a.useState)(null),H=Object(l.a)(z,2),M=H[0],K=H[1],Q=Object(a.useState)(!1),V=Object(l.a)(Q,2),W=V[0],X=V[1],Y=Object(a.useState)(null),Z=Object(l.a)(Y,2),$=Z[0],ee=Z[1],te=Object(a.useState)(!1),ne=Object(l.a)(te,2),ae=ne[0],ce=ne[1],se=Object(a.useState)(""),re=Object(l.a)(se,2),oe=re[0],ie=re[1],le=Object(a.useState)(""),ue=Object(l.a)(le,2),de=ue[0],je=ue[1],me=Object(a.useState)([]),_e=Object(l.a)(me,2),he=_e[0],be=_e[1],pe=Object(a.useState)({name:"",about:"",avatar:""}),fe=Object(l.a)(pe,2),Oe=fe[0],xe=fe[1],ve=Object(a.useState)(""),ge=Object(l.a)(ve,2),ke=ge[0],Ne=ge[1],Ce=Object(a.useState)(!1),ye=Object(l.a)(Ce,2),Se=ye[0],Le=ye[1],Te=Object(u.g)(),we=Object(a.useCallback)((function(e){"Escape"===e.key&&Pe()}),[]),Pe=function(){c(!1),p(!1),D(!1),q(!1),X(!1),ce(!1),document.removeEventListener("keydown",we)},Ee=function(e){var t=e.result,n=e.text;ce(!0),ie(t?j:m),je(n),document.addEventListener("keydown",we)},De=function(e){localStorage.setItem("token",e.token),A.checkToken().then((function(e){return Ne(e.data.email)})).catch((function(e){return console.log(e)})),Le(!0),Te.push("/cards")};return Object(a.useEffect)((function(){A.checkToken().then((function(e){Le(!0),Ne(e.data.email),Te.push("/cards")})).catch((function(e){return console.log(e)}))}),[]),Object(a.useEffect)((function(){Promise.all([T.getUserInfo(),T.getCards()]).then((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];xe(n),be(a)}))}),[]),Object(_.jsx)("div",{className:"App",children:Object(_.jsx)("div",{className:"page",children:Object(_.jsxs)(b.Provider,{value:Oe,children:[Object(_.jsxs)(u.d,{children:[Object(_.jsx)(u.b,{exact:!0,path:"/",children:Object(_.jsx)(u.a,{to:"/cards"})}),Object(_.jsxs)(u.b,{path:"/sign-up",children:[Object(_.jsx)(h,{logoPic:d,headerLinkTitle:"\u0412\u043e\u0439\u0442\u0438",headerLink:"/sign-in"}),Object(_.jsx)(E,{onSubmit:function(e,t){var n=e.email,a=e.password;t(!0),A.signUp({email:n,password:a}).then((function(){Ee({result:!0,text:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!"}),setTimeout((function(){return A.signIn({email:n,password:a}).then((function(e){return De(e)})).catch((function(){return Te.push("/sign-in")}))}),500)})).catch((function(e){Ee({result:!1,text:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043f\u0448\u0435! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."}),console.log(e)})).finally((function(){return t(!1)}))}})]}),Object(_.jsxs)(u.b,{path:"/sign-in",children:[Object(_.jsx)(h,{logoPic:d,headerLinkTitle:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",headerLink:"/sign-up"}),Object(_.jsx)(P,{onSubmit:function(e,t){var n=e.email,a=e.password;t(!0),A.signIn({email:n,password:a}).then((function(e){return De(e)})).catch((function(e){Ee({result:!1,text:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."}),console.log(e)})).finally((function(){return t(!1)}))}})]}),Object(_.jsxs)(w,{path:"/cards",loggedIn:Se,children:[Object(_.jsx)(h,{setLoggedIn:Le,logoPic:d,headerLinkTitle:"\u0412\u044b\u0439\u0442\u0438",headerLink:"/sign-in",email:ke,headerBurger:!0}),Object(_.jsx)(f,{cards:he,onCardLike:function(e){var t=e.likes.some((function(e){return e._id===Oe._id}));T.changeLikeCardStatus(e._id,t).then((function(t){return be((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){return console.log(e)}))},onCardDelete:function(e){X(!0),ee(e)},onEditProfile:function(){p(!0),document.addEventListener("keydown",we)},onEditAvatar:function(){c(!0),document.addEventListener("keydown",we)},onAddPlace:function(){D(!0),document.addEventListener("keydown",we)},onCardClick:function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];q(!0),G(n),K(a),document.addEventListener("keydown",we)}}),Object(_.jsx)(O,{})]}),Object(_.jsxs)(u.b,{path:"*",children:[Object(_.jsx)(h,{logoPic:d,headerLinkTitle:"\u0412\u043e\u0439\u0442\u0438",headerLink:"/sign-in"}),Object(_.jsx)("h1",{className:"not-found",children:"404:("})]})]}),Object(_.jsxs)("section",{className:"popups","aria-label":"\u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0438\u0435 \u043e\u043a\u043d\u0430",children:[Object(_.jsx)(v,{isOpen:o,onClose:Pe,onUpdateUser:function(e){T.redactProfile(e).then((function(e){xe(e),Pe()})).catch((function(e){return console.log(e)}))}}),Object(_.jsx)(g,{isOpen:n,onClose:Pe,onUpdateAvatar:function(e){T.redactAvatar(e).then((function(e){xe(e),Pe()})).catch((function(e){return console.log(e)}))}}),Object(_.jsx)(k,{isOpen:L,onClose:Pe,onAddPlace:function(e){T.addCard(e).then((function(e){be([e].concat(Object(i.a)(he))),Pe()})).catch((function(e){return console.log(e)}))}}),Object(_.jsx)(N,{isOpen:R,onClose:Pe,card:F,cardName:M}),Object(_.jsx)(C,{isOpen:W,onClose:Pe,onDelete:function(e){e(!0),T.deleteCard($._id).then((function(){return be((function(e){return e.filter((function(e){return e._id!==$._id}))}))})).catch((function(e){return console.log(e)})).finally((function(){Pe(),e(!1)}))}}),Object(_.jsx)(y,{isOpen:ae,onClose:Pe,onAuthStatus:Ee,statusPic:oe,statusText:de})]})]})})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(o.a,{basename:"/react-mesto-auth/",children:Object(_.jsx)(U,{})})}),document.getElementById("root")),I()}},[[35,1,2]]]);
//# sourceMappingURL=main.447e659e.chunk.js.map