{"version":3,"sources":["images/logo.svg","images/auth-success.svg","images/auth-fail.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","components/InfoTooltip.js","utils/apiAuth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","logoPic","headerLink","headerLinkTitle","headerBurger","setLoggedIn","email","useState","burgerState","setBurgerState","handleSignOut","localStorage","removeItem","className","to","onClick","src","alt","e","preventDefault","type","CurrentUserContext","React","createContext","Card","card","onDelete","onCardClick","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","onCardDelete","avatar","about","map","Footer","PopupWithForm","isOpen","onClose","onSubmit","title","children","buttonTxt","target","currentTarget","EditProfilePopup","onUpdateUser","setName","description","setDescription","useEffect","value","onChange","id","placeholder","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","setAvatar","AddPlacePopup","setLink","ImagePopup","cardName","api","baseUrl","headers","this","_url","_headers","res","ok","json","Promise","reject","status","fetch","method","then","_checkResponse","body","JSON","stringify","cardId","ProtectedRoute","loggedIn","Login","setMail","password","setPassword","buttonState","setButtonState","disabled","Register","InfoToolTip","statusPic","statusText","apiAuth","getItem","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlaceOpen","setIsAddPlaceOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","selectedCardName","setSelectedCardName","isAuthStatusPopupOpen","setIsAuthStatusPopupOpen","authStatusPic","setAuthStatusPic","authStatusText","setAuthStatusText","setCards","setCurrentUser","setEmail","history","useHistory","handleEscClose","useCallback","key","closeAllPopups","document","removeEventListener","handleAuthStatusPopup","result","text","success","fail","addEventListener","handleSignInRequest","setItem","token","checkToken","info","data","catch","console","log","push","all","getUserInfo","getCards","userData","cardsData","Provider","exact","path","logo","signUp","setTimeout","signIn","finally","changeLikeCardStatus","newCard","state","c","deleteCard","filter","redactProfile","redactAvatar","addCard","onAuthStatus","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"uNAAe,MAA0B,iCCA1B,MAA0B,yCCA1B,MAA0B,sC,OC0D1BA,MAvDf,YAA8F,IAA3EC,EAA0E,EAA1EA,QAASC,EAAiE,EAAjEA,WAAYC,EAAqD,EAArDA,gBAAiBC,EAAoC,EAApCA,aAAcC,EAAsB,EAAtBA,YAAaC,EAAS,EAATA,MAChF,EAAsCC,oBAAS,GAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KAOMC,EAAgB,WAClBL,GAAeA,GAAY,GAC3BA,GAAeM,aAAaC,WAAW,UAG3C,OACI,yBAAQC,UAAU,gCAAgC,aAAW,6CAA7D,UACKT,GAAgB,sBAAKS,UAAS,uFAEzBL,GAAe,yBAFJ,UAIZJ,GAAgB,mBAAGS,UAAU,gBAAb,SAA8BP,IAC/C,cAAC,IAAD,CACIQ,GAAIZ,EACJW,UAAU,uCACVE,QAASL,EAHb,SAKKP,OAGT,sBAAKU,UAAU,oBAAf,UACI,cAAC,IAAD,CACIC,GAAG,SACHD,UAAU,eAFd,SAII,qBAAKA,UAAU,eAAeG,IAAKf,EAASgB,IAAI,iDAEpD,sBAAKJ,UAAS,yBAAoBT,GAAgB,8BAAlD,UACKA,GAAgB,oBAAGS,UAAU,gBAAb,iBAAkCP,KACnD,cAAC,IAAD,CACIQ,GAAIZ,EACJW,UAAS,uBAAkBT,GAAgB,2BAC3CW,QAASL,EAHb,SAKKP,OAGRC,GAAgB,wBACbW,QA3CgB,SAACG,GAC7BA,EAAEC,iBACFV,GAAgBD,IA0CJY,KAAK,SACLP,UAAS,8BAAyBL,GAAe,8BAHpC,SAIhB,kCClDJa,EAAqBC,IAAMC,gBCgCzBC,MA/Bf,YAA6D,IAA5CC,EAA2C,EAA3CA,KAAMC,EAAqC,EAArCA,SAAUC,EAA2B,EAA3BA,YAAaC,EAAc,EAAdA,WACpCC,EAAcC,qBAAWT,GAEzBU,EAAQN,EAAKO,MAAMC,MAAQJ,EAAYI,IACvCC,EAAyB,0BACPH,EAAmC,GAA3B,0BAE1BI,EAAUV,EAAKW,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQJ,EAAYI,OACvDM,EAAuB,gCACAJ,EAAU,+BAAiC,IAGxE,OACI,qBAAItB,UAAU,iBAAd,UACA,wBAAQE,QAAS,WAAOW,EAASD,IAAQZ,UAAWqB,EAApD,SACI,qBAAKrB,UAAU,2BAEnB,qBAAKA,UAAU,uBAAf,SACI,qBAAKA,UAAU,oBAAoBE,QAAS,WAAOY,EAAY,CAACF,EAAKe,KAAMf,EAAKgB,QAASzB,IAAKS,EAAKe,KAAMvB,IAAI,2CAEjH,sBAAKJ,UAAU,sBAAf,UACI,oBAAIA,UAAU,kBAAd,SAAiCY,EAAKgB,OACtC,sBAAK5B,UAAU,iBAAf,UACI,wBAAQE,QAAS,WAAOa,EAAWH,IAAQZ,UAAW0B,EAAyBnB,KAAK,WACpF,mBAAGP,UAAU,yBAAb,SAAuCY,EAAKW,MAAMM,mBCqBnDC,MA5Cf,YAA2G,IAA1FC,EAAyF,EAAzFA,MAAOC,EAAkF,EAAlFA,aAAcC,EAAoE,EAApEA,cAAeC,EAAqD,EAArDA,WAAYnB,EAAyC,EAAzCA,WAAYoB,EAA6B,EAA7BA,aAAcrB,EAAe,EAAfA,YACjFE,EAAcC,qBAAWT,GAE/B,OACI,uBAAMR,UAAU,OAAhB,UACI,0BAASA,UAAU,kCAAnB,UACI,sBAAKA,UAAY,wBAAjB,UACI,qBAAKA,UAAU,mBAAmBG,IAAKa,EAAYoB,OAAQhC,IAAI,gJAC/D,wBAAQJ,UAAU,+BAA+BO,KAAK,SAClDL,QAAS8B,OAGjB,sBAAKhC,UAAU,oBAAf,UACI,oBAAIA,UAAU,gBAAd,SAA+BgB,EAAYY,OAC3C,wBAAQ5B,UAAU,uBAAuBO,KAAK,SAC1CL,QAAS+B,IAEb,mBAAGjC,UAAU,sBAAb,SAAoCgB,EAAYqB,WAEpD,wBAAQrC,UAAU,sBAAsBO,KAAK,SACzCL,QAASgC,OAIjB,0BAASlC,UAAU,WAAW,aAAW,iCAAzC,UACI,mBAAGA,UAAU,kBAAb,+GACA,oBAAIA,UAAU,kBAAd,SACK+B,EAAMO,KAAI,SAAC1B,GACR,OACI,cAAC,EAAD,CACIG,WAAYA,EACZF,SAAUsB,EACVrB,YAAaA,EAEbF,KAAMA,GADDA,EAAKQ,iBC3B3BmB,MARf,WACI,OACI,wBAAQvC,UAAU,gCAAlB,SACI,mBAAGA,UAAU,eAAb,uCCgBGwC,MAnBf,YAA0F,IAAhEZ,EAA+D,EAA/DA,KAAMa,EAAyD,EAAzDA,OAAQC,EAAiD,EAAjDA,QAASC,EAAwC,EAAxCA,SAAUC,EAA8B,EAA9BA,MAAOC,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,UACxE,OACI,qBAAK9C,UAAS,8BAAyB4B,EAAzB,YAAiCa,GAAU,gBACrDvC,QAAS,SAACG,GAAWA,EAAE0C,SAAW1C,EAAE2C,eAAeN,KADvD,SAGA,sBAAK1C,UAAU,oDAAf,UACI,wBAAQA,UAAU,cAAcO,KAAK,SAASL,QAASwC,IACvD,oBAAI1C,UAAU,iBAAd,SAAgC4C,IAChC,uBAAMD,SAAUA,EAAU3C,UAAS,4BAAuB4B,GAAQA,KAAMA,EAAxE,UACI,0BAAU5B,UAAU,wBAApB,SACK6C,IAEL,wBAAQtC,KAAK,SAASP,UAAU,oBAAhC,SAAqD8C,aC6DtDG,MAvEf,YAA+D,IAAlCC,EAAiC,EAAjCA,aAAcT,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,QACzC1B,EAAcC,qBAAWT,GAE/B,EAAwBd,mBAAS,IAAjC,mBAAOkC,EAAP,KAAauB,EAAb,KAMA,EAAsCzD,mBAAS,IAA/C,mBAAO0D,EAAP,KAAoBC,EAApB,KAmBA,OALAC,qBAAU,WACNH,EAAQnC,EAAYY,MACpByB,EAAerC,EAAYqB,SAC5B,CAACrB,EAAayB,IAGb,eAAC,EAAD,CACAb,KAAK,OACLa,OAAQA,EACRC,QAASA,EACTC,SAlBiB,SAACtC,GAClBA,EAAEC,iBACF4C,EAAa,CACTtB,OACAS,MAAOe,KAeXR,MAAM,4HACNE,UAAU,yDANV,UAQI,wBAAO9C,UAAU,cAAjB,UACI,uBACIuD,MAAO3B,EACP4B,SAnCS,SAACnD,GACtB8C,EAAQ9C,EAAE0C,OAAOQ,QAmCLhD,KAAK,OACLP,UAAU,cACV4B,KAAK,OACL6B,GAAG,YACHC,YAAY,qBACZC,UAAQ,EACRC,UAAU,IACVC,UAAU,OAEd,sBAAM7D,UAAU,8CAEpB,wBAAOA,UAAU,cAAjB,UACI,uBACIuD,MAAOH,EACPI,SA5CgB,SAACnD,GAC7BgD,EAAehD,EAAE0C,OAAOQ,QA4CZhD,KAAK,OACLP,UAAU,cACV4B,KAAK,QACL6B,GAAG,kBACHC,YAAY,kCACZC,UAAQ,EACRC,UAAU,IACVC,UAAU,QAEd,sBAAM7D,UAAU,0DC7BjB8D,MArCf,YAA+D,IAApCC,EAAmC,EAAnCA,eAAgBtB,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,QAC/C,EAA4BhD,mBAAS,IAArC,mBAAO0C,EAAP,KAAe4B,EAAf,KAWA,OACI,cAAC,EAAD,CACIpC,KAAK,SACLgB,MAAM,wFACNE,UAAU,yDACVL,OAAQA,EACRC,QAASA,EACTC,SAZa,SAACtC,GAClBA,EAAEC,iBACFyD,EAAe,CAAE3B,YAIjB,SAQI,wBAAOpC,UAAU,cAAjB,UACI,uBACIuD,MAAOnB,EACPoB,SArBW,SAACnD,GACxB2D,EAAU3D,EAAE0C,OAAOQ,QAqBPhD,KAAK,MACLP,UAAU,cACV4B,KAAK,SAAS6B,GAAG,cACjBC,YAAY,qGACZC,UAAQ,IAEZ,sBAAM3D,UAAU,mDCmCjBiE,MAlEf,YAA0D,IAAhC/B,EAA+B,EAA/BA,WAAYO,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,QAC1C,EAAwBhD,mBAAS,IAAjC,mBAAOkC,EAAP,KAAauB,EAAb,KAMA,EAAwBzD,mBAAS,IAAjC,mBAAOiC,EAAP,KAAauC,EAAb,KAcA,OACI,eAAC,EAAD,CACItC,KAAK,OACLe,SAXa,SAACtC,GAClBA,EAAEC,iBAEF4B,EAAW,CAAEN,OAAMD,SACnBwB,EAAQ,IACRe,EAAQ,KAOJzB,OAAQA,EACRC,QAAS,WACLS,EAAQ,IACRe,EAAQ,IACRxB,KAEJE,MAAM,gEACNE,UAAU,6CAVd,UAYI,wBAAO9C,UAAU,cAAjB,UACI,uBACIuD,MAAO3B,EACP4B,SAlCS,SAACnD,GACtB8C,EAAQ9C,EAAE0C,OAAOQ,QAkCLhD,KAAK,OACLP,UAAU,cACV4B,KAAK,OACL6B,GAAG,aACHC,YAAY,mDACZC,UAAQ,EACRC,UAAU,IACVC,UAAU,OAEd,sBAAM7D,UAAU,+CAEpB,wBAAOA,UAAU,cAAjB,UACI,uBACIuD,MAAO5B,EACP6B,SA3CS,SAACnD,GACtB6D,EAAQ7D,EAAE0C,OAAOQ,QA2CLhD,KAAK,MACLP,UAAU,cACV4B,KAAK,OACL6B,GAAG,YACHC,YAAY,qGACZC,UAAQ,IAEZ,sBAAM3D,UAAU,kDC/CjBmE,MAdf,YAA2D,IAApC1B,EAAmC,EAAnCA,OAAQ7B,EAA2B,EAA3BA,KAAM8B,EAAqB,EAArBA,QAAS0B,EAAY,EAAZA,SAC1C,OACI,qBAAKpE,UAAS,uCAAkCyC,GAAU,gBACtDvC,QAAS,SAACG,GAAWA,EAAE0C,SAAW1C,EAAE2C,eAAeN,KADvD,SAGI,sBAAK1C,UAAU,uBAAf,UACI,wBAAQA,UAAU,0CAA0CE,QAASwC,EAASnC,KAAK,WACnF,qBAAKP,UAAU,iBAAiBG,IAAKS,EAAMR,IAAI,yCAC/C,mBAAGJ,UAAU,uBAAb,SAAqCoE,U,gBCqEtCC,EARH,I,WAtER,cAAkC,IAApBC,EAAmB,EAAnBA,QAASC,EAAU,EAAVA,QAAU,oBAC7BC,KAAKC,KAAOH,EACZE,KAAKE,SAAWH,E,kDAGpB,SAAeI,GACX,OAAOA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAR,UAAkBJ,EAAIK,W,yBAGvD,WACI,OAAOC,MAAM,GAAD,OAAIT,KAAKC,KAAT,aAA0B,CAClCS,OAAQ,MACRX,QAASC,KAAKE,WACfS,KAAKX,KAAKY,kB,sBAGjB,WACI,OAAOH,MAAM,GAAD,OAAIT,KAAKC,KAAT,UAAuB,CAC/BS,OAAQ,MACRX,QAASC,KAAKE,WACfS,KAAKX,KAAKY,kB,2BAGjB,YAA8B,IAAfxD,EAAc,EAAdA,KAAMS,EAAQ,EAARA,MACjB,OAAO4C,MAAM,GAAD,OAAIT,KAAKC,KAAT,aAA0B,CAClCS,OAAQ,QACRX,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACjB3D,KAAK,GAAD,OAAKA,GACTS,MAAM,GAAD,OAAKA,OAEX8C,KAAKX,KAAKY,kB,0BAGrB,YAAwB,IAAVhD,EAAS,EAATA,OACV,OAAO6C,MAAM,GAAD,OAAIT,KAAKC,KAAT,oBAAiC,CACzCS,OAAQ,QACRX,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACjBnD,OAAO,GAAD,OAAKA,OAEZ+C,KAAKX,KAAKY,kB,qBAGrB,YAAuB,IAAdxD,EAAa,EAAbA,KAAMD,EAAO,EAAPA,KACX,OAAOsD,MAAM,GAAD,OAAIT,KAAKC,KAAT,UAAuB,CAC/BS,OAAQ,OACRX,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACjB3D,KAAK,GAAD,OAAKA,GACTD,KAAK,GAAD,OAAKA,OAEVwD,KAAKX,KAAKY,kB,wBAGrB,SAAWI,GACP,OAAOP,MAAM,GAAD,OAAIT,KAAKC,KAAT,kBAAuBe,GAAU,CACzCN,OAAQ,SACRX,QAASC,KAAKE,WACXS,KAAKX,KAAKY,kB,kCAGrB,SAAqBI,EAAQlE,GACzB,OAAO2D,MAAM,GAAD,OAAIT,KAAKC,KAAT,wBAA6Be,GAAU,CAC/CN,OAAQ5D,EAAU,SAAW,MAC7BiD,QAASC,KAAKE,WACfS,KAAKX,KAAKY,oB,KAIT,CAAQ,CAChBd,QAAS,8CACTC,QAAS,CACL,cAAiB,uCACjB,eAAgB,sBC9DTkB,MAVf,YAAkD,IAAvBC,EAAsB,EAAtBA,SAAU7C,EAAY,EAAZA,SACjC,OACI,cAAC,IAAD,UACK,kBACG6C,EAAW7C,EAAW,cAAC,IAAD,CAAU5C,GAAG,iBC4DpC0F,MAjEf,YAA+B,IAAbhD,EAAY,EAAZA,SACd,EAAyBjD,mBAAS,IAAlC,mBAAOD,EAAP,KAAcmG,EAAd,KACA,EAAgClG,mBAAS,IAAzC,mBAAOmG,EAAP,KAAiBC,EAAjB,KACA,EAAsCpG,oBAAS,GAA/C,mBAAOqG,EAAP,KAAoBC,EAApB,KAgBA,OACI,sBAAKhG,UAAU,OAAf,UACI,oBAAIA,UAAU,gBAAd,sCACA,uBAAM2C,SARO,SAACtC,GAClBA,EAAEC,iBACFqC,EAAS,CAAClD,QAAOoG,YAAWG,IAMMhG,UAAU,OAAxC,UACI,2BAAUA,UAAU,yDAApB,UACA,wBAAOA,UAAU,cAAjB,UACA,uBACIuD,MAAO9D,EACP+D,SAtBS,SAACnD,GACtBuF,EAAQvF,EAAE0C,OAAOQ,QAsBLhD,KAAK,OACLP,UAAU,qCACV4B,KAAK,QACL6B,GAAG,aACHC,YAAY,QACZC,UAAQ,EACRC,UAAU,IACVC,UAAU,OAEd,sBAAM7D,UAAU,+CAEpB,wBAAOA,UAAU,cAAjB,UACI,uBACIuD,MAAOsC,EACPrC,SAjCa,SAACnD,GAC1ByF,EAAYzF,EAAE0C,OAAOQ,QAiCThD,KAAK,WACLP,UAAU,qCACV4B,KAAK,WACL6B,GAAG,gBACHC,YAAY,uCACZC,UAAQ,IAEZ,sBAAM3D,UAAU,iDAGhB,wBACIiG,SAAUF,EACVxF,KAAK,SACLP,UAAU,iDAHd,SAKE+F,EAAwB,sDAAV,0CCOjBG,MAhEf,YAAkC,IAAbvD,EAAY,EAAZA,SACjB,EAAyBjD,mBAAS,IAAlC,mBAAOD,EAAP,KAAcmG,EAAd,KACA,EAAgClG,mBAAS,IAAzC,mBAAOmG,EAAP,KAAiBC,EAAjB,KACA,EAAsCpG,oBAAS,GAA/C,mBAAOqG,EAAP,KAAoBC,EAApB,KAcA,OACI,sBAAKhG,UAAU,OAAf,UACI,oBAAIA,UAAU,gBAAd,gFACA,uBAAM2C,SAPO,SAACtC,GAClBsC,EAAS,CAAElD,QAAOoG,YAAYxF,EAAG2F,IAMChG,UAAU,OAAxC,UACI,2BAAUA,UAAU,yDAApB,UACA,wBAAOA,UAAU,cAAjB,UACA,uBACIuD,MAAO9D,EACP+D,SApBS,SAACnD,GACtBuF,EAAQvF,EAAE0C,OAAOQ,QAoBLhD,KAAK,OACLP,UAAU,qCACV4B,KAAK,QACL6B,GAAG,aACHC,YAAY,QACZC,UAAQ,EACRC,UAAU,IACVC,UAAU,OAEd,sBAAM7D,UAAU,+CAEpB,wBAAOA,UAAU,cAAjB,UACI,uBACIuD,MAAOsC,EACPrC,SA/Ba,SAACnD,GAC1ByF,EAAYzF,EAAE0C,OAAOQ,QA+BThD,KAAK,WACLP,UAAU,qCACV4B,KAAK,WACL6B,GAAG,gBACHC,YAAY,uCACZC,UAAQ,IAEZ,sBAAM3D,UAAU,iDAGhB,wBACIiG,SAAUF,EACVxF,KAAK,SACLP,UAAU,iDAHd,SAKE+F,EAAqC,sDAAvB,oHAGpB,cAAC,IAAD,CAAM9F,GAAG,WAAWD,UAAU,qBAA9B,qKC9CGmG,MAdf,YAAmE,IAA3C1D,EAA0C,EAA1CA,OAAQC,EAAkC,EAAlCA,QAAS0D,EAAyB,EAAzBA,UAAWC,EAAc,EAAdA,WAChD,OACI,qBAAKrG,UAAS,gBAAWyC,GAAU,gBAC/BvC,QAAS,SAACG,GAAWA,EAAE0C,SAAW1C,EAAE2C,eAAeN,KADvD,SAGI,sBAAK1C,UAAU,oDAAf,UACI,wBAAQE,QAASwC,EAAS1C,UAAU,cAAcO,KAAK,WACvD,qBAAKP,UAAU,qBAAqBI,IAAI,sBAAsBD,IAAKiG,IACnE,oBAAIpG,UAAU,iBAAd,SAAgCqG,U,QCwCjCC,EAPC,I,WA1CZ,cAAkC,IAApBhC,EAAmB,EAAnBA,QAASC,EAAU,EAAVA,QAAU,oBAC7BC,KAAKC,KAAOH,EACZE,KAAKE,SAAWH,E,kDAGpB,SAAeI,GACX,OAAOA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAR,UAAkBJ,EAAIK,W,oBAGvD,YAA2B,IAAnBa,EAAkB,EAAlBA,SAAUpG,EAAQ,EAARA,MACd,OAAOwF,MAAM,GAAD,OAAIT,KAAKC,KAAT,WAAwB,CAChCS,OAAQ,OACRX,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACjBM,SAAS,GAAD,OAAKA,GACbpG,MAAM,GAAD,OAAKA,OAEf0F,KAAKX,KAAKY,kB,oBAGjB,YAA2B,IAAnBS,EAAkB,EAAlBA,SAAUpG,EAAQ,EAARA,MACd,OAAOwF,MAAM,GAAD,OAAIT,KAAKC,KAAT,WAAwB,CAChCS,OAAQ,OACRX,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACjBM,SAAS,GAAD,OAAKA,GACbpG,MAAM,GAAD,OAAKA,OAEf0F,KAAKX,KAAKY,kB,wBAGjB,WACI,OAAOH,MAAM,GAAD,OAAIT,KAAKC,KAAT,aAA0B,CAClCS,OAAQ,MACRX,QAAQ,2BACDC,KAAKE,UADL,IAEH,+BAA4B5E,aAAayG,QAAQ,cAEtDpB,KAAKX,KAAKY,oB,KAIL,CAAY,CACxBd,QAAS,gCACTC,QAAS,CACL,eAAgB,sBCsPTiC,MAhRf,WACI,MAA0D9G,oBAAS,GAAnE,mBAAO+G,EAAP,KAA8BC,EAA9B,KACA,EAA4DhH,oBAAS,GAArE,mBAAOiH,EAAP,KAA+BC,EAA/B,KACA,EAA4ClH,oBAAS,GAArD,mBAAOmH,EAAP,KAAuBC,EAAvB,KACA,EAAgDpH,oBAAS,GAAzD,mBAAOqH,EAAP,KAAyBC,EAAzB,KACA,EAAwCtH,mBAAS,MAAjD,mBAAOuH,EAAP,KAAqBC,EAArB,KACA,EAAgDxH,mBAAS,MAAzD,mBAAOyH,EAAP,KAAyBC,EAAzB,KACA,EAA0D1H,oBAAS,GAAnE,mBAAO2H,EAAP,KAA8BC,EAA9B,KACA,EAA0C5H,mBAAS,IAAnD,mBAAO6H,EAAP,KAAsBC,EAAtB,KACA,GAA4C9H,mBAAS,IAArD,qBAAO+H,GAAP,MAAuBC,GAAvB,MAEA,GAA0BhI,mBAAS,IAAnC,qBAAOqC,GAAP,MAAc4F,GAAd,MACA,GAAsCjI,mBAAS,CAC3CkC,KAAM,GACNS,MAAO,GACPD,OAAQ,KAHZ,qBAAOpB,GAAP,MAAoB4G,GAApB,MAKA,GAA0BlI,mBAAS,IAAnC,qBAAOD,GAAP,MAAcoI,GAAd,MACA,GAAgCnI,oBAAS,GAAzC,qBAAOgG,GAAP,MAAiBlG,GAAjB,MACMsI,GAAUC,cAEVC,GAAiBC,uBAAY,SAAC5H,GAClB,WAAVA,EAAE6H,KAAkBC,OACzB,IAEGA,GAAiB,WACnBzB,GAAyB,GACzBE,GAA0B,GAC1BE,GAAkB,GAClBE,GAAoB,GACpBM,GAAyB,GAEzBc,SAASC,oBAAoB,UAAWL,KA6BtCM,GAAwB,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,KACrClB,GAAyB,GAChBE,EAATe,EAA0BE,EAA4BC,GACtDhB,GAAkBc,GAElBJ,SAASO,iBAAiB,UAAWX,KA4CnCY,GAAsB,SAACjE,GACzB7E,aAAa+I,QAAQ,QAASlE,EAAImE,OAElCxC,EAAQyC,aACP5D,MAAK,SAAA6D,GAAI,OAAInB,GAASmB,EAAKC,KAAKxJ,UAChCyJ,OAAM,SAAA7I,GAAC,OAAI8I,QAAQC,IAAI/I,MAExBb,IAAY,GACZsI,GAAQuB,KAAK,WA8DjB,OAlBA/F,qBAAU,WACNgD,EAAQyC,aACP5D,MAAK,SAACR,GACHnF,IAAY,GACZqI,GAASlD,EAAIsE,KAAKxJ,OAClBqI,GAAQuB,KAAK,aAEhBH,OAAM,SAAA7I,GAAC,OAAI8I,QAAQC,IAAI/I,QACzB,IAEHiD,qBAAU,WACNwB,QAAQwE,IAAI,CAACjF,EAAIkF,cAAelF,EAAImF,aACnCrE,MAAK,YAA4B,IAAD,mBAAzBsE,EAAyB,KAAfC,EAAe,KAC7B9B,GAAe6B,GACf9B,GAAS+B,QAEd,IAGH,qBAAK1J,UAAU,MAAf,SACA,qBAAKA,UAAU,OAAf,SACA,eAACQ,EAAmBmJ,SAApB,CAA6BpG,MAAOvC,GAApC,UAEA,eAAC,IAAD,WACA,cAAC,IAAD,CAAO4I,OAAK,EAACC,KAAK,IAAlB,SAAsB,cAAC,IAAD,CAAU5J,GAAG,aAGnC,eAAC,IAAD,CAAO4J,KAAK,WAAZ,UACI,cAAC,EAAD,CAAQzK,QAAS0K,EAAMxK,gBAAgB,iCAAQD,WAAW,aAC1D,cAAC,EAAD,CAAUsD,SAtES,SAAC,EAAqBqD,GAAoB,IAAvCvG,EAAsC,EAAtCA,MAAOoG,EAA+B,EAA/BA,SAC7BG,GAAe,GACfM,EAAQyD,OAAO,CAAEtK,QAAOoG,aACvBV,MAAK,WACFmD,GAAsB,CAAEC,QAAQ,EAAMC,KAAM,0KAE5CwB,YAAW,kBACX1D,EAAQ2D,OAAO,CAAExK,QAAOoG,aACvBV,MAAK,SAAA8D,GAAI,OAAIL,GAAoBK,MACjCC,OAAM,kBAAMpB,GAAQuB,KAAK,iBACxB,QAELH,OAAM,SAACvE,GACJ2D,GAAsB,CAAEC,QAAQ,EAAOC,KAAM,oNAC7CW,QAAQC,IAAIzE,MAEfuF,SAAQ,kBAAMlE,GAAe,YA0DlC,eAAC,IAAD,CAAQ6D,KAAK,WAAb,UACI,cAAC,EAAD,CAAQzK,QAAS0K,EAAMxK,gBAAgB,qEAAcD,WAAW,aAChE,cAAC,EAAD,CAAOsD,SAzDS,SAAC,EAAqBqD,GAAoB,IAAvCvG,EAAsC,EAAtCA,MAAOoG,EAA+B,EAA/BA,SAC1BG,GAAe,GACfM,EAAQ2D,OAAO,CAAExK,QAAOoG,aACvBV,MAAK,SAAAR,GAAG,OAAIiE,GAAoBjE,MAChCuE,OAAM,SAACvE,GACJ2D,GAAsB,CAACC,QAAQ,EAAOC,KAAM,wMAC5CW,QAAQC,IAAIzE,MAEfuF,SAAQ,kBAAMlE,GAAe,YAoDlC,eAAC,EAAD,CAAgB6D,KAAK,SAASnE,SAAUA,GAAxC,UACI,cAAC,EAAD,CACIlG,YAAaA,GACbJ,QAAS0K,EACTxK,gBAAgB,iCAChBD,WAAW,WACXI,MAAOA,GACPF,cAAY,IAEhB,cAAC,EAAD,CACIwC,MAAOA,GACPhB,WAlHe,SAACH,GACpB,IAAMU,EAAUV,EAAKW,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQJ,GAAYI,OAC7DiD,EAAI8F,qBAAqBvJ,EAAKQ,IAAKE,GAClC6D,MAAK,SAACiF,GAAD,OAAazC,IAAS,SAAA0C,GAAK,OAAIA,EAAM/H,KAAI,SAACgI,GAAD,OAAOA,EAAElJ,MAAQR,EAAKQ,IAAMgJ,EAAUE,WACpFpB,OAAM,SAAC7I,GAAD,OAAO8I,QAAQC,IAAI/I,OA+GtB8B,aA5GiB,SAACvB,GACtByD,EAAIkG,WAAW3J,EAAKQ,KACnB+D,MAAK,kBAAMwC,IAAS,SAAA0C,GAAK,OAAIA,EAAMG,QAAO,SAAAF,GAAC,OAAIA,EAAElJ,MAAQR,EAAKQ,aAC9D8H,OAAM,SAAA7I,GAAC,OAAI8I,QAAQC,IAAI/I,OA0GpB4B,cA5KuB,WAC3B2E,GAA0B,GAE1BwB,SAASO,iBAAiB,UAAWX,KA0KjChG,aAnLsB,WAC1B0E,GAAyB,GAEzB0B,SAASO,iBAAiB,UAAWX,KAiLjC9F,WAxKoB,WACxB4E,GAAkB,GAElBsB,SAASO,iBAAiB,UAAWX,KAsKjClH,YAnKgB,SAAC,GAAyB,IAAD,mBAAvBa,EAAuB,KAAjByB,EAAiB,KAC7C4D,GAAoB,GACpBE,EAAgBvF,GAChByF,EAAoBhE,GAEpBgF,SAASO,iBAAiB,UAAWX,OAgKrC,cAAC,EAAD,OAGJ,eAAC,IAAD,CAAO6B,KAAK,IAAZ,UACI,cAAC,EAAD,CAAQzK,QAAS0K,EAAMxK,gBAAgB,iCAAQD,WAAW,aAC1D,oBAAIW,UAAU,YAAd,yBAIJ,0BAASA,UAAU,SAAS,aAAW,8FAAvC,UACI,cAAC,EAAD,CACIyC,OAAQkE,EACRjE,QAASyF,GACTjF,aAlKiB,SAAC+F,GACtB5E,EAAIoG,cAAcxB,GACjB9D,MAAK,SAACR,GACHiD,GAAejD,GACfwD,QAEHe,OAAM,SAAA7I,GAAC,OAAI8I,QAAQC,IAAI/I,SA8JxB,cAAC,EAAD,CACIoC,OAAQgE,EACR/D,QAASyF,GACTpE,eA9JmB,SAACkF,GACxB5E,EAAIqG,aAAazB,GAChB9D,MAAK,SAACR,GACHiD,GAAejD,GACfwD,QAEHe,OAAM,SAAA7I,GAAC,OAAI8I,QAAQC,IAAI/I,SA0JxB,cAAC,EAAD,CACIoC,OAAQoE,EACRnE,QAASyF,GACTjG,WA1JqB,SAAA+G,GACzB5E,EAAIsG,QAAQ1B,GACX9D,MAAK,SAAAR,GACFgD,GAAS,CAAChD,GAAF,mBAAU5C,MAClBoG,QAEHe,OAAM,SAAA7I,GAAC,OAAI8I,QAAQC,IAAI/I,SAsJxB,cAAC,EAAD,CACIoC,OAAQsE,EACRrE,QAASyF,GACTvH,KAAMqG,EACN7C,SAAU+C,IAUd,cAAC,EAAD,CACI1E,OAAQ4E,EACR3E,QAASyF,GACTyC,aAActC,GACdlC,UAAWmB,EACXlB,WAAYoB,gBC9QToD,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB5F,MAAK,YAAkD,IAA/C6F,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAeC,SAAS,qBAAxB,SACE,cAAC,EAAD,QAGJpD,SAASqD,eAAe,SAM1BZ,M","file":"static/js/main.ab522d97.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.abb64ac9.svg\";","export default __webpack_public_path__ + \"static/media/auth-success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/auth-fail.7c6a020b.svg\";","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction Header ({ logoPic, headerLink, headerLinkTitle, headerBurger, setLoggedIn, email }) {\r\n    const [burgerState, setBurgerState] = useState(false);\r\n\r\n    const handleChangeBurgerState = (e) => {\r\n        e.preventDefault();\r\n        setBurgerState(!burgerState);\r\n    }\r\n\r\n    const handleSignOut = () => {\r\n        setLoggedIn && setLoggedIn(false);\r\n        setLoggedIn && localStorage.removeItem('token');\r\n    }\r\n\r\n    return(\r\n        <header className='header header_position_center' aria-label='логотип'>\r\n            {headerBurger && <div className={`header__burger \r\n                header__burger_res_mobile \r\n                ${burgerState && 'header__burger_opened'}`}\r\n            >\r\n                {headerBurger && <p className='header__email'>{email}</p>}\r\n                <Link \r\n                    to={headerLink}  \r\n                    className='header__link header__link_theme_dark'\r\n                    onClick={handleSignOut}\r\n                >\r\n                    {headerLinkTitle}\r\n                </Link>\r\n            </div>}\r\n            <div className='header__container'>\r\n                <Link \r\n                    to=\"/cards\"  \r\n                    className='header__link'\r\n                >\r\n                    <img className='header__logo' src={logoPic} alt='логотип' />\r\n                </Link>\r\n                <div className={`header__burger ${headerBurger && 'header__burger_res_desktop'}`}>\r\n                    {headerBurger && <p className='header__email'>AAAA{email}</p>}\r\n                    <Link \r\n                        to={headerLink} \r\n                        className={`header__link ${headerBurger && 'header__link_theme_dark'}`}\r\n                        onClick={handleSignOut}\r\n                    >\r\n                        {headerLinkTitle}\r\n                    </Link>\r\n                </div>\r\n                {headerBurger && <button \r\n                    onClick={handleChangeBurgerState}\r\n                    type='button' \r\n                    className={`header__burger-icon ${burgerState && 'header__burger-icon_opened'}`}\r\n                ><span /></button>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext()","import React, { useContext } from 'react'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction Card ({ card, onDelete, onCardClick, onCardLike }) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `elements__trash ${!isOwn ? 'elements__trash_hidden' : ''}`\r\n    ); \r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `elements__like-button ${isLiked ? 'elements__like-button_active' : ''}`\r\n    );\r\n\r\n    return (\r\n        <li className='elements__card'>\r\n        <button onClick={() => {onDelete(card)}} className={cardDeleteButtonClassName}>\r\n            <div className='elements__trash-icon' />\r\n        </button>\r\n        <div className='elements__background'>\r\n            <img className='elements__picture' onClick={() => {onCardClick([card.link, card.name])}} src={card.link} alt='пейзаж' />\r\n        </div>\r\n        <div className='elements__text-area'>\r\n            <h2 className='elements__title'>{card.name}</h2>\r\n            <div className='elements__like'>\r\n                <button onClick={() => {onCardLike(card)}} className={cardLikeButtonClassName} type='button'></button>\r\n                <p className='elements__like-counter'>{card.likes.length}</p>\r\n            </div>\r\n        </div>\r\n    </li>\r\n    )\r\n}\r\n\r\nexport default Card","import React, { useContext } from 'react'\r\nimport Card from './Card'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction Main ({ cards, onEditAvatar, onEditProfile, onAddPlace, onCardLike, onCardDelete, onCardClick }) {\r\n    const currentUser = useContext(CurrentUserContext)\r\n\r\n    return(\r\n        <main className='main'>\r\n            <section className='profile profile_position_center'>\r\n                <div className = 'profile__picture-edit'>\r\n                    <img className='profile__picture' src={currentUser.avatar} alt='Фотография исследователя' />\r\n                    <button className='profile__picture-edit-button' type='button'\r\n                        onClick={onEditAvatar}\r\n                    ></button>\r\n                </div>\r\n                <div className='profile__name-box'>\r\n                    <h1 className='profile__name'>{currentUser.name}</h1>\r\n                    <button className='profile__edit-button' type='button'\r\n                        onClick={onEditProfile}\r\n                    ></button>\r\n                    <p className='profile__profession'>{currentUser.about}</p>\r\n                </div>\r\n                <button className='profile__add-button' type='button'\r\n                    onClick={onAddPlace}\r\n                ></button> \r\n            </section>\r\n\r\n            <section className='elements' aria-label='места'>\r\n                <p className='elements__empty'>Добавьте картинки</p>\r\n                <ul className='elements__table'>\r\n                    {cards.map((card) => {\r\n                        return (\r\n                            <Card \r\n                                onCardLike={onCardLike}\r\n                                onDelete={onCardDelete}\r\n                                onCardClick={onCardClick} \r\n                                key={card._id} \r\n                                card={card} \r\n                            />\r\n                        )\r\n                    })}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Main","import React from 'react'\r\n\r\nfunction Footer () {\r\n    return(\r\n        <footer className='footer footer_position_center'>\r\n            <p className='footer__copy'>&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\n\r\nfunction PopupWithForm ({ name, isOpen, onClose, onSubmit, title, children, buttonTxt }) {\r\n    return (\r\n        <div className={`popup popup_content_${name} ${isOpen && 'popup_opened'}`}\r\n            onClick={(e) => {if (e.target === e.currentTarget) onClose()}}\r\n        >\r\n        <div className='popup__container popup__container_position_center'>\r\n            <button className='popup__exit' type='button' onClick={onClose}></button>\r\n            <h2 className='popup__heading'>{title}</h2>\r\n            <form onSubmit={onSubmit} className={`form form_content_${name}`} name={name}>\r\n                <fieldset className='form__input-container'>\r\n                    {children}\r\n                </fieldset>\r\n                <button type='submit' className='form__save-button'>{buttonTxt}</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm","import React, { useState, useContext, useEffect } from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup ({ onUpdateUser, isOpen, onClose }) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    const [name, setName] = useState('');\r\n\r\n    const handleChangeName = (e) => {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    const [description, setDescription] = useState('');\r\n\r\n    const handleChangeDescription = (e) => {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, isOpen]); \r\n\r\n    return (\r\n        <PopupWithForm\r\n        name='name'\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}\r\n        title='Редактировать профиль'\r\n        buttonTxt='Сохранить'\r\n        >\r\n            <label className='form__field'>\r\n                <input \r\n                    value={name}\r\n                    onChange={handleChangeName}\r\n                    type='text' \r\n                    className='form__input' \r\n                    name='name' \r\n                    id='form-name' \r\n                    placeholder='Имя' \r\n                    required\r\n                    minLength='2' \r\n                    maxLength='40' \r\n                />\r\n                <span className='form__error form__error_type_form-name'></span>\r\n            </label>\r\n            <label className='form__field'>\r\n                <input \r\n                    value={description}\r\n                    onChange={handleChangeDescription}\r\n                    type='text' \r\n                    className='form__input' \r\n                    name='about' \r\n                    id='form-profession' \r\n                    placeholder='О себе' \r\n                    required \r\n                    minLength='2' \r\n                    maxLength='200' \r\n                />\r\n                <span className='popup__error popup__error_type_form-profession'></span>\r\n            </label>\r\n    </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup","import React, { useState } from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction EditAvatarPopup({ onUpdateAvatar, isOpen, onClose }) {\r\n    const [avatar, setAvatar] = useState('');\r\n\r\n    const handleChangeAvatar = (e) => {\r\n        setAvatar(e.target.value);\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        onUpdateAvatar({ avatar });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm \r\n            name='avatar'\r\n            title='Обновить аватар'\r\n            buttonTxt='Сохранить'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label className='form__field'>\r\n                <input \r\n                    value={avatar}\r\n                    onChange={handleChangeAvatar}\r\n                    type='url' \r\n                    className='form__input' \r\n                    name='avatar' id='form-avatar' \r\n                    placeholder='Ссылка на картинку' \r\n                    required \r\n                />\r\n                <span className='form__error form__error_type_form-avatar'></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup ({ onAddPlace, isOpen, onClose }) {\r\n    const [name, setName] = useState('');\r\n\r\n    const handleChangeName = (e) => {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    const [link, setLink] = useState('');\r\n\r\n    const handleChangeLink = (e) => {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        onAddPlace({ name, link });\r\n        setName('');\r\n        setLink('');\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm \r\n            name='card'\r\n            onSubmit={handleSubmit}\r\n            isOpen={isOpen}\r\n            onClose={() =>{\r\n                setName('');\r\n                setLink('');\r\n                onClose();\r\n            }}\r\n            title='Новое место'\r\n            buttonTxt='Создать'\r\n        >\r\n            <label className='form__field'>\r\n                <input \r\n                    value={name}\r\n                    onChange={handleChangeName}\r\n                    type='text' \r\n                    className='form__input' \r\n                    name='name' \r\n                    id='form-place' \r\n                    placeholder='Название' \r\n                    required \r\n                    minLength='2' \r\n                    maxLength='30' \r\n                />\r\n                <span className='form__error form__error_type_form-place'></span>\r\n            </label>\r\n            <label className='form__field'>\r\n                <input \r\n                    value={link}\r\n                    onChange={handleChangeLink}\r\n                    type='url' \r\n                    className='form__input' \r\n                    name='link' \r\n                    id='form-link' \r\n                    placeholder='Ссылка на картинку' \r\n                    required \r\n                />\r\n                <span className='form__error form__error_type_form-link'></span>\r\n            </label>\r\n    </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup","import React from 'react'\r\n\r\nfunction ImagePopup ({ isOpen, card, onClose, cardName }) {\r\n    return (\r\n        <div className={`popup popup_content_picture  ${isOpen && 'popup_opened'}`}\r\n            onClick={(e) => {if (e.target === e.currentTarget) onClose()}}\r\n        >\r\n            <div className='popup__pic-container'>\r\n                <button className='popup__exit popup__exit_content_picture' onClick={onClose} type='button'></button>\r\n                <img className='popup__picture' src={card} alt='пейзаж' />\r\n                <p className='popup__picture-title'>{cardName}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup","class Api {\r\n    constructor ({baseUrl, headers}) {\r\n        this._url = baseUrl\r\n        this._headers = headers\r\n    }  \r\n\r\n    _checkResponse(res) {\r\n        return res.ok ? res.json() : Promise.reject(`${res.status}`)\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'GET',\r\n            headers: this._headers,\r\n        }).then(this._checkResponse)\r\n    }\r\n\r\n    getCards() {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'GET',\r\n            headers: this._headers,\r\n        }).then(this._checkResponse)\r\n    }   \r\n    \r\n    redactProfile({name, about}) {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: `${name}`,\r\n                about: `${about}`\r\n            })\r\n            }).then(this._checkResponse)\r\n    }\r\n\r\n    redactAvatar({avatar}) {\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: `${avatar}`,\r\n            })\r\n            }).then(this._checkResponse)\r\n    }\r\n\r\n    addCard({name, link}) {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: `${name}`,\r\n                link: `${link}`\r\n            })\r\n            }).then(this._checkResponse)\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._url}/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers,\r\n            }).then(this._checkResponse)\r\n    }\r\n\r\n    changeLikeCardStatus(cardId, isLiked) {\r\n        return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n            method: isLiked ? 'DELETE' : 'PUT',\r\n            headers: this._headers,\r\n        }).then(this._checkResponse)\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-24',\r\n    headers: {\r\n        'authorization': '43e71961-3715-4de8-9b86-f45dfa570664',\r\n        'Content-Type': 'application/json'\r\n    }\r\n})\r\n\r\nexport default api","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\nfunction ProtectedRoute ({ loggedIn, children }) {\r\n    return (\r\n        <Route>\r\n            {()=>\r\n                loggedIn ? children : <Redirect to='/sign-up' />\r\n            }\r\n        </Route>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute","import React, {useState} from 'react'\r\n\r\nfunction Login ({ onSubmit }) {\r\n    const [email, setMail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [buttonState, setButtonState] = useState(false);\r\n\r\n    const handleChangeMail = (e) => {\r\n        setMail(e.target.value);\r\n    }\r\n\r\n    const handleChangePassword = (e) => {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        onSubmit({email, password}, setButtonState);\r\n    }\r\n\r\n    return (\r\n        <div className='auth'>\r\n            <h2 className='auth__heading'>Вход</h2>\r\n            <form onSubmit={handleSubmit} className='form'>\r\n                <fieldset className='form__input-container form__input-container_theme_dark'>\r\n                <label className='form__field'>\r\n                <input \r\n                    value={email}\r\n                    onChange={handleChangeMail}\r\n                    type='text' \r\n                    className='form__input form__input_theme_dark' \r\n                    name='email' \r\n                    id='form-email' \r\n                    placeholder='Email' \r\n                    required \r\n                    minLength='2' \r\n                    maxLength='60' \r\n                />\r\n                <span className='form__error form__error_type_form-place'></span>\r\n            </label>\r\n            <label className='form__field'>\r\n                <input \r\n                    value={password}\r\n                    onChange={handleChangePassword}\r\n                    type='password' \r\n                    className='form__input form__input_theme_dark' \r\n                    name='password' \r\n                    id='form-password' \r\n                    placeholder='Пароль' \r\n                    required \r\n                />\r\n                <span className='form__error form__error_type_form-link'></span>\r\n            </label>\r\n                </fieldset>\r\n                <button \r\n                    disabled={buttonState}\r\n                    type='submit' \r\n                    className='form__save-button form__save-button_theme_dark'\r\n                >\r\n                {!buttonState ? 'Войти' : 'Загрузка...'}\r\n                </button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login","import React, {useState} from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction Register ({ onSubmit }) {\r\n    const [email, setMail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [buttonState, setButtonState] = useState(false);\r\n\r\n    const handleChangeMail = (e) => {\r\n        setMail(e.target.value);\r\n    }\r\n\r\n    const handleChangePassword = (e) => {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        onSubmit({ email, password }, e, setButtonState);\r\n    }\r\n\r\n    return (\r\n        <div className='auth'>\r\n            <h2 className='auth__heading'>Регистрация</h2>\r\n            <form onSubmit={handleSubmit} className='form'>\r\n                <fieldset className='form__input-container form__input-container_theme_dark'>\r\n                <label className='form__field'>\r\n                <input \r\n                    value={email}\r\n                    onChange={handleChangeMail}\r\n                    type='text' \r\n                    className='form__input form__input_theme_dark' \r\n                    name='email' \r\n                    id='form-email' \r\n                    placeholder='Email' \r\n                    required \r\n                    minLength='2' \r\n                    maxLength='60' \r\n                />\r\n                <span className='form__error form__error_type_form-place'></span>\r\n            </label>\r\n            <label className='form__field'>\r\n                <input \r\n                    value={password}\r\n                    onChange={handleChangePassword}\r\n                    type='password' \r\n                    className='form__input form__input_theme_dark' \r\n                    name='password' \r\n                    id='form-password' \r\n                    placeholder='Пароль' \r\n                    required \r\n                />\r\n                <span className='form__error form__error_type_form-link'></span>\r\n            </label>\r\n                </fieldset>\r\n                <button \r\n                    disabled={buttonState} \r\n                    type='submit' \r\n                    className='form__save-button form__save-button_theme_dark'\r\n                >\r\n                {!buttonState ? 'Зарегистрироваться' : 'Загрузка...'}\r\n                </button>\r\n            </form>\r\n            <Link to='/sign-in' className='auth__if-registred'>Уже зарегистрированы? Войти</Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register","import React from 'react'\r\n\r\nfunction InfoToolTip ({ isOpen, onClose, statusPic, statusText }) {\r\n    return (\r\n        <div className={`popup ${isOpen && 'popup_opened'}`}\r\n            onClick={(e) => {if (e.target === e.currentTarget) onClose()}}\r\n        >\r\n            <div className='popup__container popup__container_position_center'>\r\n                <button onClick={onClose} className='popup__exit' type='button'></button>\r\n                <img className='popup__message-pic' alt='auth result message' src={statusPic}/>\r\n                <h2 className='popup__message'>{statusText}</h2>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoToolTip","class ApiAuth {\r\n    constructor ({baseUrl, headers}) {\r\n        this._url = baseUrl\r\n        this._headers = headers\r\n    }  \r\n\r\n    _checkResponse(res) {\r\n        return res.ok ? res.json() : Promise.reject(`${res.status}`)\r\n    }\r\n\r\n    signUp({password, email}) {\r\n        return fetch(`${this._url}/signup`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                password: `${password}`,\r\n                email: `${email}`\r\n            })\r\n        }).then(this._checkResponse)\r\n    }\r\n\r\n    signIn({password, email}) {\r\n        return fetch(`${this._url}/signin`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                password: `${password}`,\r\n                email: `${email}`\r\n            })\r\n        }).then(this._checkResponse)\r\n    }\r\n        \r\n    checkToken() {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'GET',\r\n            headers: {\r\n                ...this._headers,\r\n                'Authorization' : `Bearer ${localStorage.getItem('token')}`\r\n            }\r\n        }).then(this._checkResponse)\r\n    }\r\n}\r\n\r\nconst apiAuth = new ApiAuth({\r\n    baseUrl: 'https://auth.nomoreparties.co',\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n})\r\n\r\nexport default apiAuth","import React, { useCallback, useState, useEffect } from 'react';\r\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\r\nimport logo from '../images/logo.svg';\r\nimport success from '../images/auth-success.svg';\r\nimport fail from '../images/auth-fail.svg';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport EditProfilePopup from './EditProfilePopup'\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport api from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport InfoToolTip from './InfoTooltip';\r\nimport apiAuth from '../utils/apiAuth';\r\n\r\nfunction App() {\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n    const [isAddPlaceOpen, setIsAddPlaceOpen] = useState(false);\r\n    const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\r\n    const [selectedCard, setSelectedCard] = useState(null);\r\n    const [selectedCardName, setSelectedCardName] = useState(null);\r\n    const [isAuthStatusPopupOpen, setIsAuthStatusPopupOpen] = useState(false);\r\n    const [authStatusPic, setAuthStatusPic] = useState('');\r\n    const [authStatusText, setAuthStatusText] = useState('');\r\n\r\n    const [cards, setCards] = useState([]);\r\n    const [currentUser, setCurrentUser] = useState({\r\n        name: '',\r\n        about: '',\r\n        avatar: ''\r\n    });\r\n    const [email, setEmail] = useState('');\r\n    const [loggedIn, setLoggedIn] = useState(false);\r\n    const history = useHistory();\r\n    \r\n    const handleEscClose = useCallback((e) => {\r\n        if (e.key === 'Escape') closeAllPopups();\r\n    }, [])\r\n        \r\n    const closeAllPopups = () => {\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsEditProfilePopupOpen(false);\r\n        setIsAddPlaceOpen(false);\r\n        setIsImagePopupOpen(false);\r\n        setIsAuthStatusPopupOpen(false);\r\n\r\n        document.removeEventListener('keydown', handleEscClose);\r\n    }\r\n    \r\n    const handleEditAvatarClick = () => {\r\n        setIsEditAvatarPopupOpen(true);\r\n        \r\n        document.addEventListener('keydown', handleEscClose);\r\n    }\r\n    \r\n    const handleEditProfileClick = () => {\r\n        setIsEditProfilePopupOpen(true);\r\n        \r\n        document.addEventListener('keydown', handleEscClose);\r\n    }\r\n    \r\n    const handleAddPlaceClick = () => {\r\n        setIsAddPlaceOpen(true);\r\n        \r\n        document.addEventListener('keydown', handleEscClose);\r\n    }\r\n    \r\n    const handleCardClick = ([link, description]) => {\r\n        setIsImagePopupOpen(true);\r\n        setSelectedCard(link);\r\n        setSelectedCardName(description);\r\n        \r\n        document.addEventListener('keydown', handleEscClose);\r\n    }\r\n\r\n    const handleAuthStatusPopup = ({ result, text }) => {\r\n        setIsAuthStatusPopupOpen(true);\r\n        result ? setAuthStatusPic(success) : setAuthStatusPic(fail);\r\n        setAuthStatusText(text);\r\n        \r\n        document.addEventListener('keydown', handleEscClose);\r\n    }\r\n    \r\n    const handleUpdateUser = (data) => {\r\n        api.redactProfile(data)\r\n        .then((res) => {\r\n            setCurrentUser(res);\r\n            closeAllPopups();\r\n        })\r\n        .catch(e => console.log(e))\r\n    }\r\n\r\n    const handleUpdateAvatar = (data) => {\r\n        api.redactAvatar(data)\r\n        .then((res) => {\r\n            setCurrentUser(res);\r\n            closeAllPopups();\r\n        })\r\n        .catch(e => console.log(e))\r\n    }    \r\n\r\n    const handleAddPlaceSubmit = data => {\r\n        api.addCard(data)\r\n        .then(res => {\r\n            setCards([res, ...cards]);\r\n            closeAllPopups();\r\n        })\r\n        .catch(e => console.log(e))\r\n    }\r\n\r\n    \r\n    const handleCardLike = (card) => {\r\n        const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n        api.changeLikeCardStatus(card._id, isLiked)\r\n        .then((newCard) => setCards(state => state.map((c) => c._id === card._id ? newCard : c)))\r\n        .catch((e) => console.log(e))\r\n    }\r\n\r\n    const handleCardDelete = (card) => {\r\n        api.deleteCard(card._id)\r\n        .then(() => setCards(state => state.filter(c => c._id !== card._id)))\r\n        .catch(e => console.log(e))\r\n    } \r\n\r\n    const handleSignInRequest = (res) => {\r\n        localStorage.setItem('token', res.token);\r\n\r\n        apiAuth.checkToken()\r\n        .then(info => setEmail(info.data.email))\r\n        .catch(e => console.log(e))\r\n\r\n        setLoggedIn(true);\r\n        history.push('/cards');\r\n    }\r\n\r\n    const handleRegister = ({ email, password }, setButtonState) => {\r\n        setButtonState(true);\r\n        apiAuth.signUp({ email, password })\r\n        .then(() => {\r\n            handleAuthStatusPopup({ result: true, text: 'Вы успешно зарегистрировались!' });\r\n            // Автворизация при успешной регистрации\r\n            setTimeout(() =>\r\n            apiAuth.signIn({ email, password })\r\n            .then(data => handleSignInRequest(data))\r\n            .catch(() => history.push('/sign-in'))\r\n            , 500)\r\n        })\r\n        .catch((res) => {\r\n            handleAuthStatusPopup({ result: false, text: 'Что-то пошло не тапше! Попробуйте ещё раз.' });\r\n            console.log(res);\r\n        })\r\n        .finally(() => setButtonState(false))\r\n    }\r\n    \r\n    const handleLogin = ({ email, password }, setButtonState) => {\r\n        setButtonState(true);\r\n        apiAuth.signIn({ email, password })\r\n        .then(res => handleSignInRequest(res))\r\n        .catch((res) => {\r\n            handleAuthStatusPopup({result: false, text: 'Что-то пошло не так! Попробуйте ещё раз.'});\r\n            console.log(res);\r\n        })\r\n        .finally(() => setButtonState(false))\r\n    }\r\n\r\n    // useEffect(() => {\r\n    //     api.getCards().then(res => setCards(res))\r\n    //     .catch(e => console.log(e))\r\n    // }, [])\r\n\r\n    // useEffect(() => {\r\n    //     api.getUserInfo()\r\n    //         .then(res => setCurrentUser(res))\r\n    //         .catch(e => console.log(e))\r\n    // }, [])\r\n    \r\n    useEffect(() => {\r\n        apiAuth.checkToken()\r\n        .then((res) => {\r\n            setLoggedIn(true);\r\n            setEmail(res.data.email);\r\n            history.push('/cards');\r\n        })\r\n        .catch(e => console.log(e))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        Promise.all([api.getUserInfo(), api.getCards()])\r\n        .then(([userData, cardsData]) => {\r\n            setCurrentUser(userData);\r\n            setCards(cardsData);\r\n        })\r\n    }, [])\r\n\r\n    return (\r\n    <div className='App'>\r\n    <div className='page'>\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n\r\n    <Switch>\r\n    <Route exact path='/'><Redirect to='/cards' /></Route>\r\n\r\n    {/* Регистрация */}\r\n    <Route path='/sign-up'>\r\n        <Header logoPic={logo} headerLinkTitle='Войти' headerLink='/sign-in'/>\r\n        <Register onSubmit={handleRegister} />\r\n    </Route>\r\n        \r\n    {/* Вход */}\r\n    <Route  path='/sign-in'>\r\n        <Header logoPic={logo} headerLinkTitle='Регистрация' headerLink='/sign-up'/>\r\n        <Login onSubmit={handleLogin} />\r\n    </Route>\r\n\r\n    <ProtectedRoute path='/cards' loggedIn={loggedIn}>\r\n        <Header  \r\n            setLoggedIn={setLoggedIn}\r\n            logoPic={logo}\r\n            headerLinkTitle='Выйти' \r\n            headerLink='/sign-in' \r\n            email={email}\r\n            headerBurger\r\n        />\r\n        <Main \r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            onEditProfile={handleEditProfileClick} \r\n            onEditAvatar={handleEditAvatarClick} \r\n            onAddPlace={handleAddPlaceClick} \r\n            onCardClick={handleCardClick}\r\n        />\r\n        <Footer />\r\n    </ProtectedRoute>\r\n\r\n    <Route path='*'>\r\n        <Header logoPic={logo} headerLinkTitle='Войти' headerLink='/sign-in'/>\r\n        <h1 className=\"not-found\">404:(</h1>\r\n    </Route>\r\n    </Switch>\r\n\r\n    <section className='popups' aria-label='всплывающие окна'>\r\n        <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n        />\r\n        <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <AddPlacePopup \r\n            isOpen={isAddPlaceOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n        <ImagePopup \r\n            isOpen={isImagePopupOpen}\r\n            onClose={closeAllPopups}\r\n            card={selectedCard}\r\n            cardName={selectedCardName}\r\n        />\r\n        {/* <PopupWithForm \r\n            name='card'\r\n            onClose={closeAllPopups}\r\n            isOpen={isEditAvatarPopupOpen}\r\n            isOpen={false}\r\n            title='Вы уверены?'\r\n            buttonTxt='Да'\r\n        /> */}\r\n        <InfoToolTip\r\n            isOpen={isAuthStatusPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAuthStatus={handleAuthStatusPopup}\r\n            statusPic={authStatusPic}\r\n            statusText={authStatusText}\r\n        />\r\n    </section>\r\n\r\n    </CurrentUserContext.Provider>\r\n    </div>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"/react-mesto-auth/\">\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}