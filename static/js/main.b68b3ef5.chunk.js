(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{28:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(21),r=n.n(s),o=n(8),i=(n(28),n(23)),l=n(2),u=n(3),d=n.p+"static/media/logo.abb64ac9.svg",j=n.p+"static/media/auth-success.1b6082f8.svg",b=n.p+"static/media/auth-fail.7c6a020b.svg",h=n(0);var m=function(e){var t=e.logoPic,n=e.headerLink,c=e.headerLinkTitle,s=e.headerBurger,r=e.setLoggedIn,i=e.email,u=Object(a.useState)(!1),d=Object(l.a)(u,2),j=d[0],b=d[1],m=function(){r&&r(!1),r&&localStorage.removeItem("token")};return Object(h.jsxs)("header",{className:"header header_position_center","aria-label":"\u043b\u043e\u0433\u043e\u0442\u0438\u043f",children:[s&&Object(h.jsxs)("div",{className:"header__burger \n                header__burger_res_mobile \n                ".concat(j&&"header__burger_opened"),children:[s&&Object(h.jsx)("p",{className:"header__email",children:i}),Object(h.jsx)(o.b,{to:n,className:"header__link header__link_theme_dark",onClick:m,children:c})]}),Object(h.jsxs)("div",{className:"header__container",children:[Object(h.jsx)(o.b,{to:"/cards",className:"header__link",children:Object(h.jsx)("img",{className:"header__logo",src:t,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f"})}),Object(h.jsxs)("div",{className:"header__burger ".concat(s&&"header__burger_res_desktop"),children:[s&&Object(h.jsx)("p",{className:"header__email",children:i}),Object(h.jsx)(o.b,{to:n,className:"header__link ".concat(s&&"header__link_theme_dark"),onClick:m,children:c})]}),s&&Object(h.jsx)("button",{onClick:function(e){e.preventDefault(),b(!j)},type:"button",className:"header__burger-icon ".concat(j&&"header__burger-icon_opened"),children:Object(h.jsx)("span",{})})]})]})},_=c.a.createContext();var p=function(e){var t=e.card,n=e.onDelete,c=e.onCardClick,s=e.onCardLike,r=Object(a.useContext)(_),o=t.owner._id===r._id,i="elements__trash ".concat(o?"":"elements__trash_hidden"),l=t.likes.some((function(e){return e._id===r._id})),u="elements__like-button ".concat(l?"elements__like-button_active":"");return Object(h.jsxs)("li",{className:"elements__card",children:[Object(h.jsx)("button",{onClick:function(){n(t)},className:i,children:Object(h.jsx)("div",{className:"elements__trash-icon"})}),Object(h.jsx)("div",{className:"elements__background",children:Object(h.jsx)("img",{className:"elements__picture",onClick:function(){c([t.link,t.name])},src:t.link,alt:"\u043f\u0435\u0439\u0437\u0430\u0436"})}),Object(h.jsxs)("div",{className:"elements__text-area",children:[Object(h.jsx)("h2",{className:"elements__title",children:t.name}),Object(h.jsxs)("div",{className:"elements__like",children:[Object(h.jsx)("button",{onClick:function(){s(t)},className:u,type:"button"}),Object(h.jsx)("p",{className:"elements__like-counter",children:t.likes.length})]})]})]})};var f=function(e){var t=e.cards,n=e.onEditAvatar,c=e.onEditProfile,s=e.onAddPlace,r=e.onCardLike,o=e.onCardDelete,i=e.onCardClick,l=Object(a.useContext)(_);return Object(h.jsxs)("main",{className:"main",children:[Object(h.jsxs)("section",{className:"profile profile_position_center",children:[Object(h.jsxs)("div",{className:"profile__picture-edit",children:[Object(h.jsx)("img",{className:"profile__picture",src:l.avatar,alt:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(h.jsx)("button",{className:"profile__picture-edit-button",type:"button",onClick:n})]}),Object(h.jsxs)("div",{className:"profile__name-box",children:[Object(h.jsx)("h1",{className:"profile__name",children:l.name}),Object(h.jsx)("button",{className:"profile__edit-button",type:"button",onClick:c}),Object(h.jsx)("p",{className:"profile__profession",children:l.about})]}),Object(h.jsx)("button",{className:"profile__add-button",type:"button",onClick:s})]}),Object(h.jsxs)("section",{className:"elements","aria-label":"\u043c\u0435\u0441\u0442\u0430",children:[Object(h.jsx)("p",{className:"elements__empty",children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438"}),Object(h.jsx)("ul",{className:"elements__table",children:t.map((function(e){return Object(h.jsx)(p,{onCardLike:r,onDelete:o,onCardClick:i,card:e},e._id)}))})]})]})};var O=function(){return Object(h.jsx)("footer",{className:"footer footer_position_center",children:Object(h.jsx)("p",{className:"footer__copy",children:"\xa9 2021 Mesto Russia"})})};var x=function(e){var t=e.name,n=e.isOpen,a=e.onClose,c=e.onSubmit,s=e.title,r=e.children,o=e.buttonTxt,i=e.buttonState;return Object(h.jsx)("div",{className:"popup ".concat(n&&"popup_opened"),onClick:function(e){e.target===e.currentTarget&&a()},children:Object(h.jsxs)("div",{className:"popup__container popup__container_position_center",children:[Object(h.jsx)("button",{className:"popup__exit",type:"button",onClick:a}),Object(h.jsx)("h2",{className:"popup__heading",children:s}),Object(h.jsxs)("form",{onSubmit:c,className:"form",name:t,children:[Object(h.jsx)("fieldset",{className:"form__input-container",children:r}),Object(h.jsx)("button",{disabled:i,type:"submit",className:"form__save-button",children:o})]})]})})};var v=function(e){var t=e.onUpdateUser,n=e.isOpen,c=e.onClose,s=Object(a.useContext)(_),r=Object(a.useState)(""),o=Object(l.a)(r,2),i=o[0],u=o[1],d=Object(a.useState)(""),j=Object(l.a)(d,2),b=j[0],m=j[1],p=Object(a.useState)(!1),f=Object(l.a)(p,2),O=f[0],v=f[1],g=Object(a.useState)(!0),k=Object(l.a)(g,2),N=k[0],C=k[1],S=Object(a.useState)(!0),y=Object(l.a)(S,2),L=y[0],T=y[1],w=Object(a.useState)(""),P=Object(l.a)(w,2),E=P[0],D=P[1],A=Object(a.useState)(""),U=Object(l.a)(A,2),I=U[0],R=U[1],q=function(e,t){N&&L?(t(""),v(!1)):(t(e.target.validationMessage),v(!0))};return Object(a.useEffect)((function(){C(!0),T(!0),v(!1),u(s.name),m(s.about)}),[s,n]),Object(h.jsxs)(x,{name:"name",isOpen:n,onClose:c,onSubmit:function(e){e.preventDefault(),t({name:i,about:b},v)},title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",buttonTxt:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",buttonState:O,children:[Object(h.jsxs)("label",{className:"form__field",children:[Object(h.jsx)("input",{value:i,onChange:function(e){u(e.target.value),C(e.target.validity.valid),q(e,D)},type:"text",className:"form__input ".concat(!N&&"form__input-invalid"),name:"name",id:"form-name",placeholder:"\u0418\u043c\u044f",required:!0,minLength:"2",maxLength:"40"}),Object(h.jsx)("span",{className:"form__error ".concat(!N&&"form__error_active"),children:E})]}),Object(h.jsxs)("label",{className:"form__field",children:[Object(h.jsx)("input",{value:b,onChange:function(e){m(e.target.value),T(e.target.validity.valid),q(e,R)},type:"text",className:"form__input ".concat(!L&&"form__input-invalid"),name:"about",id:"form-profession",placeholder:"\u041e \u0441\u0435\u0431\u0435",required:!0,minLength:"2",maxLength:"200"}),Object(h.jsx)("span",{className:"form__error ".concat(!L&&"form__error_active"),children:I})]})]})};var g=function(e){var t=e.onUpdateAvatar,n=e.isOpen,c=e.onClose,s=Object(a.useState)(""),r=Object(l.a)(s,2),o=r[0],i=r[1],u=Object(a.useState)(!1),d=Object(l.a)(u,2),j=d[0],b=d[1];return Object(h.jsx)(x,{name:"avatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",buttonTxt:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:n,onClose:c,onSubmit:function(e){e.preventDefault(),t({avatar:o},b)},buttonState:j,children:Object(h.jsxs)("label",{className:"form__field",children:[Object(h.jsx)("input",{value:o,onChange:function(e){i(e.target.value)},type:"url",className:"form__input",name:"avatar",id:"form-avatar",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),Object(h.jsx)("span",{className:"form__error"})]})})};var k=function(e){var t=e.onAddPlace,n=e.isOpen,c=e.onClose,s=Object(a.useState)(""),r=Object(l.a)(s,2),o=r[0],i=r[1],u=Object(a.useState)(""),d=Object(l.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(!1),_=Object(l.a)(m,2),p=_[0],f=_[1];return Object(h.jsxs)(x,{name:"card",onSubmit:function(e){e.preventDefault(),t({name:o,link:j},f),i(""),b("")},isOpen:n,onClose:function(){i(""),b(""),c()},title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",buttonTxt:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",buttonState:p,children:[Object(h.jsxs)("label",{className:"form__field",children:[Object(h.jsx)("input",{value:o,onChange:function(e){i(e.target.value)},type:"text",className:"form__input",name:"name",id:"form-place",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",required:!0,minLength:"2",maxLength:"30"}),Object(h.jsx)("span",{className:"form__error"})]}),Object(h.jsxs)("label",{className:"form__field",children:[Object(h.jsx)("input",{value:j,onChange:function(e){b(e.target.value)},type:"url",className:"form__input",name:"link",id:"form-link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),Object(h.jsx)("span",{className:"form__error"})]})]})};var N=function(e){var t=e.isOpen,n=e.card,a=e.onClose,c=e.cardName;return Object(h.jsx)("div",{className:"popup popup_content_picture  ".concat(t&&"popup_opened"),onClick:function(e){e.target===e.currentTarget&&a()},children:Object(h.jsxs)("div",{className:"popup__pic-container",children:[Object(h.jsx)("button",{className:"popup__exit",onClick:a,type:"button"}),Object(h.jsx)("img",{className:"popup__picture",src:n,alt:"\u043f\u0435\u0439\u0437\u0430\u0436"}),Object(h.jsx)("p",{className:"popup__picture-title",children:c})]})})};var C=function(e){var t=e.isOpen,n=e.onClose,c=e.onDelete,s=Object(a.useState)(!1),r=Object(l.a)(s,2),o=r[0],i=r[1];return Object(h.jsx)(x,{name:"delete",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),c(i)},title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",buttonTxt:o?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",buttonState:o})};var S=function(e){var t=e.isOpen,n=e.onClose,a=e.statusPic,c=e.statusText;return Object(h.jsx)("div",{className:"popup ".concat(t&&"popup_opened"),onClick:function(e){e.target===e.currentTarget&&n()},children:Object(h.jsxs)("div",{className:"popup__container popup__container_position_center",children:[Object(h.jsx)("button",{onClick:n,className:"popup__exit",type:"button"}),Object(h.jsx)("img",{className:"popup__message-pic",alt:"auth result message",src:a}),Object(h.jsx)("h2",{className:"popup__message",children:c})]})})},y=n(13),L=n(14),T=new(function(){function e(t){var n=t.baseUrl,a=t.headers;Object(y.a)(this,e),this._url=n,this._headers=a}return Object(L.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("".concat(e.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"getCards",value:function(){return fetch("".concat(this._url,"/cards"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"redactProfile",value:function(e){var t=e.name,n=e.about;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:"".concat(t),about:"".concat(n)})}).then(this._checkResponse)}},{key:"redactAvatar",value:function(e){var t=e.avatar;return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:"".concat(t)})}).then(this._checkResponse)}},{key:"addCard",value:function(e){var t=e.name,n=e.link;return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:"".concat(t),link:"".concat(n)})}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"changeLikeCardStatus",value:function(e,t){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:t?"DELETE":"PUT",headers:this._headers}).then(this._checkResponse)}}]),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-24",headers:{authorization:"43e71961-3715-4de8-9b86-f45dfa570664","Content-Type":"application/json"}});var w=function(e){var t=e.path,n=e.loggedIn,a=e.children;return Object(h.jsx)(u.b,{path:t,children:function(){return n?a:Object(h.jsx)(u.a,{to:"/sign-up"})}})};var P=function(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(l.a)(n,2),s=c[0],r=c[1],o=Object(a.useState)(""),i=Object(l.a)(o,2),u=i[0],d=i[1],j=Object(a.useState)(!1),b=Object(l.a)(j,2),m=b[0],_=b[1];return Object(h.jsxs)("div",{className:"auth",children:[Object(h.jsx)("h2",{className:"auth__heading",children:"\u0412\u0445\u043e\u0434"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({email:s,password:u},_)},className:"form",children:[Object(h.jsxs)("fieldset",{className:"form__input-container form__input-container_theme_dark",children:[Object(h.jsxs)("label",{className:"form__field",children:[Object(h.jsx)("input",{value:s,onChange:function(e){r(e.target.value)},type:"text",className:"form__input form__input_theme_dark",name:"email",id:"form-email",placeholder:"Email",required:!0,minLength:"2",maxLength:"60"}),Object(h.jsx)("span",{className:"form__error"})]}),Object(h.jsxs)("label",{className:"form__field",children:[Object(h.jsx)("input",{value:u,onChange:function(e){d(e.target.value)},type:"password",className:"form__input form__input_theme_dark",name:"password",id:"form-password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0}),Object(h.jsx)("span",{className:"form__error"})]})]}),Object(h.jsx)("button",{disabled:m,type:"submit",className:"form__save-button form__save-button_theme_dark",children:m?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0412\u043e\u0439\u0442\u0438"})]})]})};var E=function(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(l.a)(n,2),s=c[0],r=c[1],i=Object(a.useState)(""),u=Object(l.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(!1),m=Object(l.a)(b,2),_=m[0],p=m[1];return Object(h.jsxs)("div",{className:"auth",children:[Object(h.jsx)("h2",{className:"auth__heading",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({email:s,password:d},p)},className:"form",children:[Object(h.jsxs)("fieldset",{className:"form__input-container form__input-container_theme_dark",children:[Object(h.jsxs)("label",{className:"form__field",children:[Object(h.jsx)("input",{value:s,onChange:function(e){r(e.target.value)},type:"email",className:"form__input form__input_theme_dark",name:"email",id:"form-email",placeholder:"Email",required:!0,minLength:"2",maxLength:"60"}),Object(h.jsx)("span",{className:"form__error"})]}),Object(h.jsxs)("label",{className:"form__field",children:[Object(h.jsx)("input",{value:d,onChange:function(e){j(e.target.value)},type:"password",className:"form__input form__input_theme_dark",name:"password",id:"form-password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0}),Object(h.jsx)("span",{className:"form__error"})]})]}),Object(h.jsx)("button",{disabled:_,type:"submit",className:"form__save-button form__save-button_theme_dark",children:_?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(h.jsx)(o.b,{to:"/sign-in",className:"auth__if-registred",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0412\u043e\u0439\u0442\u0438"})]})},D=n(19),A=new(function(){function e(t){var n=t.baseUrl,a=t.headers;Object(y.a)(this,e),this._url=n,this._headers=a}return Object(L.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("".concat(e.status))}},{key:"signUp",value:function(e){var t=e.password,n=e.email;return fetch("".concat(this._url,"/signup"),{method:"POST",headers:this._headers,body:JSON.stringify({password:"".concat(t),email:"".concat(n)})}).then(this._checkResponse)}},{key:"signIn",value:function(e){var t=e.password,n=e.email;return fetch("".concat(this._url,"/signin"),{method:"POST",headers:this._headers,body:JSON.stringify({password:"".concat(t),email:"".concat(n)})}).then(this._checkResponse)}},{key:"checkToken",value:function(){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:Object(D.a)(Object(D.a)({},this._headers),{},{Authorization:"Bearer ".concat(localStorage.getItem("token"))})}).then(this._checkResponse)}}]),e}())({baseUrl:"https://auth.nomoreparties.co",headers:{"Content-Type":"application/json"}});var U=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),r=Object(l.a)(s,2),o=r[0],p=r[1],x=Object(a.useState)(!1),y=Object(l.a)(x,2),L=y[0],D=y[1],U=Object(a.useState)(!1),I=Object(l.a)(U,2),R=I[0],q=I[1],J=Object(a.useState)(null),B=Object(l.a)(J,2),F=B[0],G=B[1],M=Object(a.useState)(null),z=Object(l.a)(M,2),H=z[0],K=z[1],Q=Object(a.useState)(!1),V=Object(l.a)(Q,2),W=V[0],X=V[1],Y=Object(a.useState)(null),Z=Object(l.a)(Y,2),$=Z[0],ee=Z[1],te=Object(a.useState)(!1),ne=Object(l.a)(te,2),ae=ne[0],ce=ne[1],se=Object(a.useState)(""),re=Object(l.a)(se,2),oe=re[0],ie=re[1],le=Object(a.useState)(""),ue=Object(l.a)(le,2),de=ue[0],je=ue[1],be=Object(a.useState)([]),he=Object(l.a)(be,2),me=he[0],_e=he[1],pe=Object(a.useState)({name:"",about:"",avatar:""}),fe=Object(l.a)(pe,2),Oe=fe[0],xe=fe[1],ve=Object(a.useState)(""),ge=Object(l.a)(ve,2),ke=ge[0],Ne=ge[1],Ce=Object(a.useState)(!1),Se=Object(l.a)(Ce,2),ye=Se[0],Le=Se[1],Te=Object(u.g)(),we=Object(a.useCallback)((function(e){"Escape"===e.key&&Pe()}),[]),Pe=function(){c(!1),p(!1),D(!1),q(!1),X(!1),ce(!1),document.removeEventListener("keydown",we)},Ee=function(e){var t=e.result,n=e.text;ce(!0),ie(t?j:b),je(n),document.addEventListener("keydown",we)},De=function(e){localStorage.setItem("token",e.token),A.checkToken().then((function(e){return Ne(e.data.email)})).catch((function(e){return console.log(e)})),Le(!0),Te.push("/cards")};return Object(a.useEffect)((function(){A.checkToken().then((function(e){Le(!0),Ne(e.data.email),Te.push("/cards")})).catch((function(e){return console.log(e)}))}),[]),Object(a.useEffect)((function(){Promise.all([T.getUserInfo(),T.getCards()]).then((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];xe(n),_e(a)}))}),[]),Object(h.jsx)("div",{className:"App",children:Object(h.jsx)("div",{className:"page",children:Object(h.jsxs)(_.Provider,{value:Oe,children:[Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.b,{exact:!0,path:"/",children:Object(h.jsx)(u.a,{to:"/cards"})}),Object(h.jsxs)(u.b,{path:"/sign-up",children:[Object(h.jsx)(m,{logoPic:d,headerLinkTitle:"\u0412\u043e\u0439\u0442\u0438",headerLink:"/sign-in"}),Object(h.jsx)(E,{onSubmit:function(e,t){var n=e.email,a=e.password;t(!0),A.signUp({email:n,password:a}).then((function(){Ee({result:!0,text:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!"}),setTimeout((function(){return A.signIn({email:n,password:a}).then((function(e){return De(e)})).catch((function(){return Te.push("/sign-in")}))}),500)})).catch((function(e){Ee({result:!1,text:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."}),console.log(e)})).finally((function(){return t(!1)}))}})]}),Object(h.jsxs)(u.b,{path:"/sign-in",children:[Object(h.jsx)(m,{logoPic:d,headerLinkTitle:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",headerLink:"/sign-up"}),Object(h.jsx)(P,{onSubmit:function(e,t){var n=e.email,a=e.password;t(!0),A.signIn({email:n,password:a}).then((function(e){return De(e)})).catch((function(e){Ee({result:!1,text:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."}),console.log(e)})).finally((function(){return t(!1)}))}})]}),Object(h.jsxs)(w,{path:"/cards",loggedIn:ye,children:[Object(h.jsx)(m,{setLoggedIn:Le,logoPic:d,headerLinkTitle:"\u0412\u044b\u0439\u0442\u0438",headerLink:"/sign-in",email:ke,headerBurger:!0}),Object(h.jsx)(f,{cards:me,onCardLike:function(e){var t=e.likes.some((function(e){return e._id===Oe._id}));T.changeLikeCardStatus(e._id,t).then((function(t){return _e((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){return console.log(e)}))},onCardDelete:function(e){X(!0),ee(e)},onEditProfile:function(){p(!0),document.addEventListener("keydown",we)},onEditAvatar:function(){c(!0),document.addEventListener("keydown",we)},onAddPlace:function(){D(!0),document.addEventListener("keydown",we)},onCardClick:function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];q(!0),G(n),K(a),document.addEventListener("keydown",we)}}),Object(h.jsx)(O,{})]}),Object(h.jsxs)(u.b,{path:"*",children:[Object(h.jsx)(m,{logoPic:d,headerLinkTitle:"\u0412\u043e\u0439\u0442\u0438",headerLink:"/sign-in"}),Object(h.jsx)("h1",{className:"not-found",children:"404:("})]})]}),Object(h.jsxs)("section",{className:"popups","aria-label":"\u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0438\u0435 \u043e\u043a\u043d\u0430",children:[Object(h.jsx)(v,{isOpen:o,onClose:Pe,onUpdateUser:function(e,t){t(!0),T.redactProfile(e).then((function(e){xe(e),Pe()})).catch((function(e){return console.log(e)})).finally((function(){return t(!1)}))}}),Object(h.jsx)(g,{isOpen:n,onClose:Pe,onUpdateAvatar:function(e,t){t(!0),T.redactAvatar(e).then((function(e){xe(e),Pe()})).catch((function(e){return console.log(e)})).finally((function(){return t(!1)}))}}),Object(h.jsx)(k,{isOpen:L,onClose:Pe,onAddPlace:function(e,t){t(!0),T.addCard(e).then((function(e){_e([e].concat(Object(i.a)(me))),Pe()})).catch((function(e){return console.log(e)})).finally((function(){return t(!1)}))}}),Object(h.jsx)(N,{isOpen:R,onClose:Pe,card:F,cardName:H}),Object(h.jsx)(C,{isOpen:W,onClose:Pe,onDelete:function(e){e(!0),T.deleteCard($._id).then((function(){return _e((function(e){return e.filter((function(e){return e._id!==$._id}))}))})).catch((function(e){return console.log(e)})).finally((function(){Pe(),e(!1)}))}}),Object(h.jsx)(S,{isOpen:ae,onClose:Pe,onAuthStatus:Ee,statusPic:oe,statusText:de})]})]})})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(o.a,{basename:"/react-mesto-auth/",children:Object(h.jsx)(U,{})})}),document.getElementById("root")),I()}},[[35,1,2]]]);
//# sourceMappingURL=main.b68b3ef5.chunk.js.map