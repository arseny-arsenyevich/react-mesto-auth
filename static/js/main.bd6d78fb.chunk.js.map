{"version":3,"sources":["images/logo.svg","images/auth-success.svg","images/auth-fail.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","components/ProtectedRoute.js","utils/apiAuth.js","components/Login.js","components/Register.js","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","logoPic","headerLink","headerLinkTitle","headerBurger","setLoggedIn","email","useState","burgerState","setBurgerState","handleSignOut","localStorage","removeItem","className","to","onClick","src","alt","e","type","CurrentUserContext","React","createContext","Card","card","onDelete","onCardClick","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","onCardDelete","avatar","about","map","Footer","PopupWithForm","isOpen","onClose","onSubmit","title","children","buttonTxt","target","currentTarget","EditProfilePopup","onUpdateUser","setName","description","setDescription","useEffect","evt","preventDefault","value","onChange","id","placeholder","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarUrl","useRef","current","ref","AddPlacePopup","setLink","ImagePopup","cardName","api","baseUrl","headers","this","_url","_headers","res","ok","json","Promise","reject","status","fetch","method","then","_checkResponse","body","JSON","stringify","cardId","ProtectedRoute","loggedIn","apiAuth","password","getItem","Login","useHistory","setMail","setPassword","buttonState","setButtonState","disabled","Register","InfoToolTip","statusPic","statusText","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlaceOpen","setIsAddPlaceOpen","selectedCard","setSelectedCard","selectedCardName","setSelectedCardName","isAuthStatusPopupOpen","setIsAuthStatusPopupOpen","authStatusPic","setAuthStatusPic","authStatusText","setAuthStatusText","setCards","setCurrentUser","setEmail","history","handleEscClose","useCallback","key","closeAllPopups","document","removeEventListener","handleAuthStatusPopup","result","text","success","fail","addEventListener","getCards","catch","console","log","getUserInfo","checkToken","data","push","Provider","exact","path","logo","signUp","setTimeout","signIn","setItem","token","finally","info","changeLikeCardStatus","newCard","state","c","deleteCard","filter","redactProfile","redactAvatar","addCard","onAuthStatus","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.bd6d78fb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.abb64ac9.svg\";","export default __webpack_public_path__ + \"static/media/auth-success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/auth-fail.7c6a020b.svg\";","import React, { useState, useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction Header ({ logoPic, headerLink, headerLinkTitle, headerBurger, setLoggedIn, email }) {\r\n    const [burgerState, setBurgerState] = useState(false)\r\n\r\n    const handleChangeBurgerState = (e) => {\r\n        setBurgerState(!burgerState)\r\n    }\r\n\r\n    const handleSignOut = () => {\r\n        setLoggedIn && setLoggedIn(false)\r\n        setLoggedIn && localStorage.removeItem('token')\r\n    }\r\n\r\n    return(\r\n        <header className='header header_position_center' aria-label='логотип'>\r\n            {headerBurger && <div className={`header__burger \r\n                header__burger_res_mobile \r\n                ${burgerState && 'header__burger_opened'}`}\r\n            >\r\n                {headerBurger && <p className='header__email'>{email}</p>}\r\n                <Link \r\n                    to={headerLink}  \r\n                    className='header__link header__link_theme_dark'\r\n                    onClick={handleSignOut}\r\n                >\r\n                    {headerLinkTitle}\r\n                </Link>\r\n            </div>}\r\n            <div className='header__container'>\r\n                <Link \r\n                    to=\"/cards\"  \r\n                    className='header__link'\r\n                >\r\n                    <img className='header__logo' src={logoPic} alt='логотип' />\r\n                </Link>\r\n                <div className={`header__burger ${headerBurger && 'header__burger_res_desktop'}`}>\r\n                    {headerBurger && <p className='header__email'>{email}</p>}\r\n                    <Link \r\n                        to={headerLink} \r\n                        className={`header__link ${headerBurger && 'header__link_theme_dark'}`}\r\n                        onClick={handleSignOut}\r\n                    >\r\n                        {headerLinkTitle}\r\n                    </Link>\r\n                </div>\r\n                {headerBurger && <button \r\n                    onClick={handleChangeBurgerState}\r\n                    type='button' \r\n                    className={`header__burger-icon ${burgerState && 'header__burger-icon_opened'}`}\r\n                ><span /></button>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext()","import React, { useContext } from 'react'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction Card ({ card, onDelete, onCardClick, onCardLike }) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `elements__trash ${!isOwn ? 'elements__trash_hidden' : ''}`\r\n    ); \r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `elements__like-button ${isLiked ? 'elements__like-button_active' : ''}`\r\n    );\r\n\r\n    return (\r\n        <li className='elements__card'>\r\n        <button onClick={() => {onDelete(card)}} className={cardDeleteButtonClassName}></button>\r\n        <div className='elements__background'>\r\n            <img className='elements__picture' onClick={() => {onCardClick([card.link, card.name])}} src={card.link} alt='пейзаж' />\r\n        </div>\r\n        <div className='elements__text-area'>\r\n            <h2 className='elements__title'>{card.name}</h2>\r\n            <div className='elements__like'>\r\n                <button onClick={() => {onCardLike(card)}} className={cardLikeButtonClassName} type='button'></button>\r\n                <p className='elements__like-counter'>{card.likes.length}</p>\r\n            </div>\r\n        </div>\r\n    </li>\r\n    )\r\n}\r\n\r\nexport default Card","import React, { useContext } from 'react'\r\nimport Card from './Card'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction Main ({ cards, onEditAvatar, onEditProfile, onAddPlace, onCardLike, onCardDelete, onCardClick }) {\r\n    const currentUser = useContext(CurrentUserContext)\r\n\r\n    return(\r\n        <main className='main'>\r\n            <section className='profile profile_position_center'>\r\n                <div className = 'profile__picture-edit'>\r\n                    <img className='profile__picture' src={currentUser.avatar} alt='Фотография исследователя' />\r\n                    <button className='profile__picture-edit-button' type='button'\r\n                        onClick={onEditAvatar}\r\n                    ></button>\r\n                </div>\r\n                <div className='profile__name-box'>\r\n                    <h1 className='profile__name'>{currentUser.name}</h1>\r\n                    <button className='profile__edit-button' type='button'\r\n                        onClick={onEditProfile}\r\n                    ></button>\r\n                    <p className='profile__profession'>{currentUser.about}</p>\r\n                </div>\r\n                <button className='profile__add-button' type='button'\r\n                    onClick={onAddPlace}\r\n                ></button> \r\n            </section>\r\n\r\n            <section className='elements' aria-label='места'>\r\n                <p className='elements__empty'>Добавьте картинки</p>\r\n                <ul className='elements__table'>\r\n                    {cards.map((card) => {\r\n                        return (\r\n                            <Card \r\n                                onCardLike={onCardLike}\r\n                                onDelete={onCardDelete}\r\n                                onCardClick={onCardClick} \r\n                                key={card._id} \r\n                                card={card} \r\n                            />\r\n                        )\r\n                    })}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Main","import React from 'react'\r\n\r\nfunction Footer () {\r\n    return(\r\n        <footer className='footer footer_position_center'>\r\n            <p className='footer__copy'>&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\n\r\nfunction PopupWithForm ({ name, isOpen, onClose, onSubmit, title, children, buttonTxt }) {\r\n    return (\r\n        <div className={`popup popup_content_${name} ${isOpen && 'popup_opened'}`}\r\n            onClick={(e) => {if (e.target === e.currentTarget) onClose()}}\r\n        >\r\n        <div className='popup__container popup__container_position_center'>\r\n            <button className='popup__exit' type='button' onClick={onClose}></button>\r\n            <h2 className='popup__heading'>{title}</h2>\r\n            <form onSubmit={onSubmit} className={`form form_content_${name}`} name={name}>\r\n                <fieldset className='form__input-container'>\r\n                    {children}\r\n                </fieldset>\r\n                <button type='submit' className='form__save-button'>{buttonTxt}</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm","import React, { useState, useContext, useEffect } from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup ({ onUpdateUser, isOpen, onClose }) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    const [name, setName] = useState('')\r\n\r\n    const handleChangeName = (evt) => {\r\n        setName(evt.target.value)\r\n    }\r\n\r\n    const [description, setDescription] = useState('')\r\n\r\n    const handleChangeDescription = (evt) => {\r\n        setDescription(evt.target.value)\r\n    }\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault()\r\n        onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, isOpen]); \r\n\r\n    return (\r\n        <PopupWithForm\r\n        name='name'\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}\r\n        title='Редактировать профиль'\r\n        buttonTxt='Сохранить'\r\n        >\r\n            <label className='form__field'>\r\n                <input \r\n                    value={name}\r\n                    onChange={handleChangeName}\r\n                    type='text' \r\n                    className='form__input' \r\n                    name='name' \r\n                    id='form-name' \r\n                    placeholder='Имя' \r\n                    required\r\n                    minLength='2' \r\n                    maxLength='40' \r\n                />\r\n                <span className='form__error form__error_type_form-name'></span>\r\n            </label>\r\n            <label className='form__field'>\r\n                <input \r\n                    value={description}\r\n                    onChange={handleChangeDescription}\r\n                    type='text' \r\n                    className='form__input' \r\n                    name='about' \r\n                    id='form-profession' \r\n                    placeholder='О себе' \r\n                    required \r\n                    minLength='2' \r\n                    maxLength='200' \r\n                />\r\n                <span className='popup__error popup__error_type_form-profession'></span>\r\n            </label>\r\n    </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup","import React, { useRef } from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction EditAvatarPopup({ onUpdateAvatar, isOpen, onClose }) {\r\n    const avatarUrl = useRef()\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault()\r\n        onUpdateAvatar({avatar: avatarUrl.current.value})\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm \r\n            name='avatar'\r\n            title='Обновить аватар'\r\n            buttonTxt='Сохранить'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label className='form__field'>\r\n                <input \r\n                    ref={avatarUrl}\r\n                    type='url' \r\n                    className='form__input' \r\n                    name='avatar' id='form-avatar' \r\n                    placeholder='Ссылка на картинку' \r\n                    required \r\n                />\r\n                <span className='form__error form__error_type_form-avatar'></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup ({ onAddPlace, isOpen, onClose }) {\r\n    const [name, setName] = useState('')\r\n\r\n    const handleChangeName = (evt) => {\r\n        setName(evt.target.value)\r\n    }\r\n\r\n    const [link, setLink] = useState('')\r\n\r\n    const handleChangeLink = (evt) => {\r\n        setLink(evt.target.value)\r\n    }\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault()\r\n        onAddPlace({\r\n            name,\r\n            link\r\n        })\r\n        setName('')\r\n        setLink('')\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm \r\n            name='card'\r\n            onSubmit={handleSubmit}\r\n            isOpen={isOpen}\r\n            onClose={() =>{\r\n                setName('')\r\n                setLink('')\r\n                onClose()\r\n            }}\r\n            title='Новое место'\r\n            buttonTxt='Создать'\r\n        >\r\n            <label className='form__field'>\r\n                <input \r\n                    value={name}\r\n                    onChange={handleChangeName}\r\n                    type='text' \r\n                    className='form__input' \r\n                    name='name' \r\n                    id='form-place' \r\n                    placeholder='Название' \r\n                    required \r\n                    minLength='2' \r\n                    maxLength='30' \r\n                />\r\n                <span className='form__error form__error_type_form-place'></span>\r\n            </label>\r\n            <label className='form__field'>\r\n                <input \r\n                    value={link}\r\n                    onChange={handleChangeLink}\r\n                    type='url' \r\n                    className='form__input' \r\n                    name='link' \r\n                    id='form-link' \r\n                    placeholder='Ссылка на картинку' \r\n                    required \r\n                />\r\n                <span className='form__error form__error_type_form-link'></span>\r\n            </label>\r\n    </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup","import React from 'react'\r\n\r\nfunction ImagePopup ({ card, onClose, cardName }) {\r\n    return (\r\n        <div className={`popup popup_content_picture  ${card && 'popup_opened'}`}\r\n            onClick={(e) => {if (e.target === e.currentTarget) onClose()}}\r\n        >\r\n            <div className='popup__pic-container'>\r\n                <button className='popup__exit popup__exit_content_picture' onClick={onClose} type='button'></button>\r\n                <img className='popup__picture' src={card} alt='пейзаж' />\r\n                <p className='popup__picture-title'>{cardName}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup","class Api {\r\n    constructor ({baseUrl, headers}) {\r\n        this._url = baseUrl\r\n        this._headers = headers\r\n    }  \r\n\r\n    _checkResponse(res) {\r\n        return res.ok ? res.json() : Promise.reject(`${res.status}`)\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'GET',\r\n            headers: this._headers,\r\n        }).then(this._checkResponse)\r\n    }\r\n\r\n    getCards() {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'GET',\r\n            headers: this._headers,\r\n        }).then(this._checkResponse)\r\n    }   \r\n    \r\n    redactProfile({name, about}) {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: `${name}`,\r\n                about: `${about}`\r\n            })\r\n            }).then(this._checkResponse)\r\n    }\r\n\r\n    redactAvatar({avatar}) {\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: `${avatar}`,\r\n            })\r\n            }).then(this._checkResponse)\r\n    }\r\n\r\n    addCard({name, link}) {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: `${name}`,\r\n                link: `${link}`\r\n            })\r\n            }).then(this._checkResponse)\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._url}/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers,\r\n            }).then(this._checkResponse)\r\n    }\r\n\r\n    changeLikeCardStatus(cardId, isLiked) {\r\n        return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n            method: isLiked ? 'DELETE' : 'PUT',\r\n            headers: this._headers,\r\n        }).then(this._checkResponse)\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-24',\r\n    headers: {\r\n        'authorization': '43e71961-3715-4de8-9b86-f45dfa570664',\r\n        'Content-Type': 'application/json'\r\n    }\r\n})\r\n\r\nexport default api","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\nfunction ProtectedRoute ({ loggedIn, children }) {\r\n    return (\r\n        <Route>\r\n            {()=>\r\n                loggedIn ? children : <Redirect to='/sign-up' />\r\n            }\r\n        </Route>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute","class ApiAuth {\r\n    constructor ({baseUrl, headers}) {\r\n        this._url = baseUrl\r\n        this._headers = headers\r\n    }  \r\n\r\n    _checkResponse(res) {\r\n        return res.ok ? res.json() : Promise.reject(`${res.status}`)\r\n    }\r\n\r\n    signUp({password, email}) {\r\n        return fetch(`${this._url}/signup`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                password: `${password}`,\r\n                email: `${email}`\r\n            })\r\n        }).then(this._checkResponse)\r\n    }\r\n\r\n    signIn({password, email}) {\r\n        return fetch(`${this._url}/signin`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                password: `${password}`,\r\n                email: `${email}`\r\n            })\r\n        }).then(this._checkResponse)\r\n    }\r\n        \r\n    checkToken() {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'GET',\r\n            headers: {\r\n                ...this._headers,\r\n                'Authorization' : `Bearer ${localStorage.getItem('token')}`\r\n            }\r\n        }).then(this._checkResponse)\r\n    }\r\n}\r\n\r\nconst apiAuth = new ApiAuth({\r\n    baseUrl: 'https://auth.nomoreparties.co',\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n})\r\n\r\nexport default apiAuth","import React, {useState} from 'react'\r\nimport apiAuth from '../utils/apiAuth'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nfunction Login ({ onSubmit }) {\r\n    const history = useHistory()\r\n\r\n    const [email, setMail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [buttonState, setButtonState] = useState(false)\r\n\r\n    const handleChangeMail = (evt) => {\r\n        setMail(evt.target.value)\r\n    }\r\n\r\n    const handleChangePassword = (evt) => {\r\n        setPassword(evt.target.value)\r\n    }\r\n\r\n\r\n    const handleSubmit = (evt) => {\r\n        onSubmit({email, password}, evt, setButtonState)\r\n    }\r\n\r\n    return (\r\n        <div className='auth'>\r\n            <h2 className='auth__heading'>Вход</h2>\r\n            <form onSubmit={handleSubmit} className='form'>\r\n                <fieldset className='form__input-container form__input-container_theme_dark'>\r\n                <label className='form__field'>\r\n                <input \r\n                    value={email}\r\n                    onChange={handleChangeMail}\r\n                    type='text' \r\n                    className='form__input form__input_theme_dark' \r\n                    name='email' \r\n                    id='form-email' \r\n                    placeholder='Email' \r\n                    required \r\n                    minLength='2' \r\n                    maxLength='60' \r\n                />\r\n                <span className='form__error form__error_type_form-place'></span>\r\n            </label>\r\n            <label className='form__field'>\r\n                <input \r\n                    value={password}\r\n                    onChange={handleChangePassword}\r\n                    type='password' \r\n                    className='form__input form__input_theme_dark' \r\n                    name='password' \r\n                    id='form-password' \r\n                    placeholder='Пароль' \r\n                    required \r\n                />\r\n                <span className='form__error form__error_type_form-link'></span>\r\n            </label>\r\n                </fieldset>\r\n                <button \r\n                    disabled={buttonState}\r\n                    type='submit' \r\n                    className='form__save-button form__save-button_theme_dark'\r\n                >\r\n                {!buttonState ? 'Войти' : 'Загрузка...'}\r\n                </button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login","import React, {useState} from 'react'\r\nimport apiAuth from '../utils/apiAuth'\r\nimport { Link, useHistory } from 'react-router-dom'\r\n\r\nfunction Register ({ onSubmit }) {\r\n    const history = useHistory()\r\n\r\n    const [email, setMail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [buttonState, setButtonState] = useState(false)\r\n\r\n    const handleChangeMail = (evt) => {\r\n        setMail(evt.target.value)\r\n    }\r\n\r\n    const handleChangePassword = (evt) => {\r\n        setPassword(evt.target.value)\r\n    }\r\n\r\n    const handleSubmit = (evt) => {\r\n        onSubmit({email, password}, evt, setButtonState)\r\n    }\r\n\r\n    return (\r\n        <div className='auth'>\r\n            <h2 className='auth__heading'>Регистрация</h2>\r\n            <form onSubmit={handleSubmit} className='form'>\r\n                <fieldset className='form__input-container form__input-container_theme_dark'>\r\n                <label className='form__field'>\r\n                <input \r\n                    value={email}\r\n                    onChange={handleChangeMail}\r\n                    type='text' \r\n                    className='form__input form__input_theme_dark' \r\n                    name='email' \r\n                    id='form-email' \r\n                    placeholder='Email' \r\n                    required \r\n                    minLength='2' \r\n                    maxLength='60' \r\n                />\r\n                <span className='form__error form__error_type_form-place'></span>\r\n            </label>\r\n            <label className='form__field'>\r\n                <input \r\n                    value={password}\r\n                    onChange={handleChangePassword}\r\n                    type='password' \r\n                    className='form__input form__input_theme_dark' \r\n                    name='password' \r\n                    id='form-password' \r\n                    placeholder='Пароль' \r\n                    required \r\n                />\r\n                <span className='form__error form__error_type_form-link'></span>\r\n            </label>\r\n                </fieldset>\r\n                <button \r\n                    disabled={buttonState} \r\n                    type='submit' \r\n                    className='form__save-button form__save-button_theme_dark'\r\n                >\r\n                {!buttonState ? 'Зарегистрироваться' : 'Загрузка...'}\r\n                </button>\r\n            </form>\r\n            <Link to='/sign-in' className='auth__if-registred'>Уже зарегистрированы? Войти</Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register","import React from 'react'\r\n\r\nfunction InfoToolTip ({ isOpen, onClose, statusPic, statusText }) {\r\n    return (\r\n        <div className={`popup ${isOpen && 'popup_opened'}`}\r\n            onClick={(e) => {if (e.target === e.currentTarget) onClose()}}\r\n        >\r\n            <div className='popup__container popup__container_position_center'>\r\n                <button onClick={onClose} className='popup__exit' type='button'></button>\r\n                <img className='popup__message-pic' alt='auth result message' src={statusPic}/>\r\n                <h2 className='popup__message'>{statusText}</h2>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoToolTip","import React, { useCallback, useState, useEffect } from 'react';\r\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\r\nimport logo from '../images/logo.svg';\r\nimport success from '../images/auth-success.svg';\r\nimport fail from '../images/auth-fail.svg';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport EditProfilePopup from './EditProfilePopup'\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport api from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport InfoToolTip from './InfoTooltip';\r\nimport apiAuth from '../utils/apiAuth';\r\n\r\nfunction App() {\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false)\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false)\r\n    const [isAddPlaceOpen, setIsAddPlaceOpen] = useState(false)\r\n    const [selectedCard, setSelectedCard] = useState(null)\r\n    const [selectedCardName, setSelectedCardName] = useState(null)\r\n    const [isAuthStatusPopupOpen, setIsAuthStatusPopupOpen] = useState(false)\r\n    const [authStatusPic, setAuthStatusPic] = useState('')\r\n    const [authStatusText, setAuthStatusText] = useState('')\r\n\r\n    const [cards, setCards] = useState([])\r\n    const [currentUser, setCurrentUser] = useState({\r\n        name: '',\r\n        about: '',\r\n        avatar: ''\r\n    })\r\n    const [email, setEmail] = useState('')\r\n    const [loggedIn, setLoggedIn] = useState(false)\r\n    const history = useHistory()\r\n    \r\n    const handleEscClose = useCallback((evt) => {\r\n        if (evt.key === 'Escape') {\r\n            closeAllPopups()\r\n        }\r\n    }, [])\r\n        \r\n    const closeAllPopups = () => {\r\n        setIsEditAvatarPopupOpen(false)\r\n        setIsEditProfilePopupOpen(false)\r\n        setIsAddPlaceOpen(false)\r\n        setSelectedCard(null)\r\n        setIsAuthStatusPopupOpen(false)\r\n        document.removeEventListener('keydown', handleEscClose)\r\n    }\r\n    \r\n    const handleEditAvatarClick = () => {\r\n        setIsEditAvatarPopupOpen(true)\r\n        document.addEventListener('keydown', handleEscClose)\r\n    }\r\n\r\n\r\n    const handleEditProfileClick = () => {\r\n        setIsEditProfilePopupOpen(true)\r\n        document.addEventListener('keydown', handleEscClose)\r\n    }\r\n\r\n\r\n    const handleAddPlaceClick = () => {\r\n        setIsAddPlaceOpen(true)\r\n        document.addEventListener('keydown', handleEscClose)\r\n    }\r\n\r\n    const handleCardClick = (src) => {\r\n        setSelectedCard(src[0])\r\n        setSelectedCardName(src[1])\r\n        document.addEventListener('keydown', handleEscClose)\r\n    }\r\n\r\n    const handleUpdateUser = (data) => {\r\n        api.redactProfile(data)\r\n            .then((res) => {\r\n                setCurrentUser({...currentUser, ...res})\r\n                closeAllPopups()\r\n            }).catch((e) => {console.log(e)})\r\n    }\r\n\r\n    const handleUpdateAvatar = (data) => {\r\n        api.redactAvatar(data)\r\n        .then((res) => {\r\n            setCurrentUser({...currentUser, ...res})\r\n            closeAllPopups()\r\n        }).catch((e) => {console.log(e)})\r\n    }    \r\n\r\n    const handleAddPlaceSubmit = (data) => {\r\n        api.addCard(data)\r\n        .then((res) => {\r\n            setCards([res, ...cards])\r\n            closeAllPopups()\r\n        }).catch((e) => {console.log(e)})\r\n    }\r\n\r\n    const handleAuthStatusPopup = ( {result, text} ) => {\r\n        setIsAuthStatusPopupOpen(true)\r\n        result ? setAuthStatusPic(success) : setAuthStatusPic(fail)\r\n        setAuthStatusText(text)\r\n        document.addEventListener('keydown', handleEscClose)\r\n    }\r\n\r\n    \r\n    const handleCardLike = (card) => {\r\n        const isLiked = card.likes.some((i) => i._id === currentUser._id)\r\n        api.changeLikeCardStatus(card._id, isLiked)\r\n            .then((newCard) => {\r\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n            })\r\n            .catch((e) => {console.log(e)})\r\n    }\r\n\r\n    const handleCardDelete = (card) => {\r\n        api.deleteCard(card._id)\r\n            .then(() => {\r\n                setCards((state) => state.filter((c) => c._id !== card._id));\r\n            }).catch((e) => {console.log(e)})\r\n    } \r\n\r\n    const handleRegister = ({email, password}, evt, setButtonState) => {\r\n        evt.preventDefault()\r\n        setButtonState(true)\r\n        apiAuth.signUp({email, password})\r\n            .then(res => {\r\n                handleAuthStatusPopup({result: true, text: 'Вы успешно зарегистрировались!'})\r\n                setTimeout(() =>\r\n                apiAuth.signIn({email, password})\r\n                    .then(data => {\r\n                        localStorage.setItem('token', data.token);\r\n                        setLoggedIn(true)\r\n                        setEmail(res.data.email)\r\n                        history.push('/cards')\r\n                    })\r\n                    .catch(res => history.push('/sign-in'))\r\n                , 500)\r\n            })\r\n            .catch(res => {\r\n                handleAuthStatusPopup({result: false, text: 'Что-то пошло не так! Попробуйте ещё раз.'})\r\n                console.log(res)\r\n            })\r\n            .finally(() => setButtonState(false))\r\n    }\r\n    \r\n    const handleLogin = ({email, password}, evt, setButtonState) => {\r\n        evt.preventDefault()\r\n        setButtonState(true)\r\n        apiAuth.signIn({email, password})\r\n            .then(res => {\r\n                localStorage.setItem('token', res.token);\r\n\r\n                apiAuth.checkToken()\r\n                .then((info) => {\r\n                    setEmail(info.data.email)\r\n                })\r\n                .catch((e) => {console.log(e)})\r\n\r\n                setLoggedIn(true)\r\n                history.push('/cards')\r\n            })\r\n            .catch((res) => {\r\n                handleAuthStatusPopup({result: false, text: 'Что-то пошло не так! Попробуйте ещё раз.'})\r\n                console.log(res)\r\n            })\r\n            .finally(() => setButtonState(false))\r\n    }\r\n\r\n    useEffect(() => {\r\n        api.getCards().then((res) => {\r\n            setCards(res)\r\n        }).catch((e) => {console.log(e)})\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        api.getUserInfo()\r\n            .then((res) => {\r\n                setCurrentUser(res)\r\n            })\r\n            .catch((e) => {console.log(e)})\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        apiAuth.checkToken()\r\n            .then((res) => {\r\n                setLoggedIn(true)\r\n                setEmail(res.data.email)\r\n                history.push('/cards')\r\n            })\r\n            .catch((e) => {console.log(e)})\r\n    }, [])\r\n\r\n    return (\r\n    <div className='App'>\r\n    <div className='page'>\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n\r\n    <Switch>\r\n    <Route exact path='/'><Redirect to='/cards' /></Route>\r\n\r\n    {/* Регистрация */}\r\n    <Route path='/sign-up'>\r\n        <Header logoPic={logo} headerLinkTitle='Войти' headerLink='/sign-in'/>\r\n        <Register onSubmit={handleRegister} />\r\n    </Route>\r\n        \r\n    {/* Вход */}\r\n    <Route  path='/sign-in'>\r\n        <Header logoPic={logo} headerLinkTitle='Регистрация' headerLink='/sign-up'/>\r\n        <Login onSubmit={handleLogin} />\r\n    </Route>\r\n\r\n    <ProtectedRoute path='/cards' loggedIn={loggedIn}>\r\n        <Header  \r\n            setLoggedIn={setLoggedIn}\r\n            logoPic={logo}\r\n            headerLinkTitle='Выйти' \r\n            headerLink='/sign-in' \r\n            email={email}\r\n            headerBurger\r\n        />\r\n        <Main \r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            onEditProfile={handleEditProfileClick} \r\n            onEditAvatar={handleEditAvatarClick} \r\n            onAddPlace={handleAddPlaceClick} \r\n            onCardClick={handleCardClick}\r\n        />\r\n        <Footer />\r\n    </ProtectedRoute>\r\n\r\n    <Route path='*'>\r\n        <Header logoPic={logo} headerLinkTitle='Войти' headerLink='/sign-in'/>\r\n        <h1 className=\"not-found\">404:(</h1>\r\n    </Route>\r\n    </Switch>\r\n\r\n    <section className='popups' aria-label='всплывающие окна'>\r\n        <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n        />\r\n        <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <AddPlacePopup \r\n            isOpen={isAddPlaceOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n        <ImagePopup \r\n            card={selectedCard}\r\n            cardName={selectedCardName}\r\n            onClose={closeAllPopups}\r\n        />\r\n        {/* <PopupWithForm \r\n            name='card'\r\n            onClose={closeAllPopups}\r\n            isOpen={isEditAvatarPopupOpen}\r\n            isOpen={false}\r\n            title='Вы уверены?'\r\n            buttonTxt='Да'\r\n        /> */}\r\n        <InfoToolTip\r\n            isOpen={isAuthStatusPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAuthStatus={handleAuthStatusPopup}\r\n            statusPic={authStatusPic}\r\n            statusText={authStatusText}\r\n        />\r\n    </section>\r\n\r\n    </CurrentUserContext.Provider>\r\n    </div>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"/react-mesto-auth/\">\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}